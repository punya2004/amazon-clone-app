[debug] [2021-05-30T05:17:04.925Z] ----------------------------------------------------------------------
[debug] [2021-05-30T05:17:04.928Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\nayak\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-05-30T05:17:04.929Z] CLI Version:   9.12.0
[debug] [2021-05-30T05:17:04.929Z] Platform:      win32
[debug] [2021-05-30T05:17:04.929Z] Node Version:  v16.0.0
[debug] [2021-05-30T05:17:04.930Z] Time:          Sun May 30 2021 10:47:04 GMT+0530 (India Standard Time)
[debug] [2021-05-30T05:17:04.930Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-05-30T05:17:04.939Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-05-30T05:17:04.939Z] > authorizing via signed-in user (nayakpunya43@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2021-05-30T05:17:04.982Z] [hub] writing locator at C:\Users\nayak\AppData\Local\Temp\hub-app-74e2a.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[warn] !  Your requested "node" version "14" doesn't match your global version "16" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"14\" doesn't match your global version \"16\""}}
[debug] [2021-05-30T05:17:05.029Z] defaultcredentials: writing to file C:\Users\nayak\AppData\Roaming\firebase\nayakpunya43_gmail_com_application_default_credentials.json
[debug] [2021-05-30T05:17:05.036Z] Setting GAC to C:\Users\nayak\AppData\Roaming\firebase\nayakpunya43_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\nayak\\AppData\\Roaming\\firebase\\nayakpunya43_gmail_com_application_default_credentials.json"}}
[debug] [2021-05-30T05:17:05.039Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig [none]
[debug] [2021-05-30T05:17:05.765Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig 200
[debug] [2021-05-30T05:17:05.765Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig {"projectId":"app-74e2a","storageBucket":"app-74e2a.appspot.com"}
[info] i  ui: downloading ui-v1.5.0.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.5.0.zip..."}}
[debug] [2021-05-30T05:17:05.798Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.5.0.zip 
[debug] [2021-05-30T05:17:06.237Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.5.0.zip 200
[debug] [2021-05-30T05:17:06.237Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.5.0.zip [stream]
[info] i  ui: Removing outdated emulator files: ui-v1.4.2 {"metadata":{"emulator":{"name":"ui"},"message":"Removing outdated emulator files: ui-v1.4.2"}}
[info] i  ui: Removing outdated emulator files: ui-v1.4.2.zip {"metadata":{"emulator":{"name":"ui"},"message":"Removing outdated emulator files: ui-v1.4.2.zip"}}
[debug] [2021-05-30T05:17:18.084Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-05-30T05:17:18.085Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-05-30T05:17:18.085Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\nayak\\.cache\\firebase\\emulators\\ui-v1.5.0\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\nayak\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.5.0\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-05-30T05:17:18.248Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "D:\amazon-app\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"D:\\amazon-app\\functions\" for Cloud Functions..."}}
[debug] [2021-05-30T05:17:18.392Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-30T05:17:18.393Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-05-30T05:17:18.394Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-30T05:17:18.395Z] [worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\11192 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\11192"}}
[debug] [2021-05-30T05:17:18.396Z] [worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: BUSY"}}
[debug] [2021-05-30T05:17:18.656Z] [runtime-status] [11192] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T05:17:18.656Z] [runtime-status] [11192] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Disabled runtime features: undefined"}}
[debug] [2021-05-30T05:17:18.659Z] [runtime-status] [11192] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:17:18.661Z] [runtime-status] [11192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:17:18.663Z] [runtime-status] [11192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:17:18.665Z] [runtime-status] [11192] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T05:17:18.666Z] [runtime-status] [11192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:17:18.736Z] [runtime-status] [11192] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T05:17:18.737Z] [runtime-status] [11192] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:17:18.737Z] [runtime-status] [11192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:17:18.739Z] [runtime-status] [11192] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:17:18.739Z] [runtime-status] [11192] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:17:18.739Z] [runtime-status] [11192] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11192] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[us-central1-api]: http function initialized (http://localhost:5001/app-74e2a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/app-74e2a/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-05-30T05:17:18.979Z] [worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: IDLE"}}
[debug] [2021-05-30T05:18:41.474Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T05:18:41.475Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T05:18:41.476Z] Accepted request GET /app-74e2a/us-central1/api --> us-central1-api
[debug] [2021-05-30T05:18:41.501Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T05:18:41.502Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T05:18:41.502Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T05:18:41.502Z] [worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\4644 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\4644"}}
[debug] [2021-05-30T05:18:41.502Z] [worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: BUSY"}}
[debug] [2021-05-30T05:18:41.785Z] [runtime-status] [4644] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T05:18:41.787Z] [runtime-status] [4644] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Disabled runtime features: undefined"}}
[debug] [2021-05-30T05:18:41.791Z] [runtime-status] [4644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:18:41.793Z] [runtime-status] [4644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:18:41.795Z] [runtime-status] [4644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:18:41.797Z] [runtime-status] [4644] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T05:18:41.798Z] [runtime-status] [4644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:18:41.854Z] [runtime-status] [4644] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T05:18:41.855Z] [runtime-status] [4644] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:18:41.855Z] [runtime-status] [4644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:18:41.856Z] [runtime-status] [4644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:18:41.857Z] [runtime-status] [4644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:18:41.857Z] [runtime-status] [4644] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:18:42.065Z] [runtime-status] [4644] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T05:18:42.068Z] [runtime-status] [4644] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T05:18:42.068Z] [runtime-status] [4644] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T05:18:42.072Z] [runtime-status] [4644] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\4644 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\4644"}}
[debug] [2021-05-30T05:18:42.082Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T05:18:42.083Z] [functions] Got req.url=/app-74e2a/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api, mapping to path=/"}}
[debug] [2021-05-30T05:18:42.098Z] [runtime-status] [4644] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Ephemeral server handling GET request"}}
[debug] [2021-05-30T05:18:42.108Z] [runtime-status] [4644] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [4644] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T05:18:42.124Z] [worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: IDLE"}}
[debug] [2021-05-30T05:18:42.124Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T05:18:42.206Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2021-05-30T05:21:59.626Z] File D:\amazon-app\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\amazon-app\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-30T05:22:00.643Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-30T05:22:00.644Z] [worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: FINISHING"}}
[debug] [2021-05-30T05:22:00.645Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-05-30T05:22:00.645Z] [worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: FINISHING"}}
[debug] [2021-05-30T05:22:00.659Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-30T05:22:00.660Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-30T05:22:00.660Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-30T05:22:00.660Z] [worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\14460 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\14460"}}
[debug] [2021-05-30T05:22:00.660Z] [worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: BUSY"}}
[debug] [2021-05-30T05:22:00.664Z] [worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: exited"}}
[debug] [2021-05-30T05:22:00.664Z] [worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-7a6fa6aa-2f40-4ecd-bc82-ce999ece610e]: FINISHED"}}
[debug] [2021-05-30T05:22:00.665Z] [worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: exited"}}
[debug] [2021-05-30T05:22:00.665Z] [worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a9a1b344-2264-4717-874f-90954351eb51]: FINISHED"}}
[debug] [2021-05-30T05:22:01.031Z] [runtime-status] [14460] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T05:22:01.033Z] [runtime-status] [14460] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Disabled runtime features: undefined"}}
[debug] [2021-05-30T05:22:01.038Z] [runtime-status] [14460] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:01.041Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:01.045Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:01.048Z] [runtime-status] [14460] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T05:22:01.051Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:01.144Z] [runtime-status] [14460] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T05:22:01.144Z] [runtime-status] [14460] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:22:01.146Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:01.149Z] [runtime-status] [14460] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:01.149Z] [runtime-status] [14460] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:01.150Z] [runtime-status] [14460] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14460] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:22:01.431Z] [worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: IDLE"}}
[debug] [2021-05-30T05:22:12.307Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T05:22:12.308Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T05:22:12.308Z] Accepted request GET /app-74e2a/us-central1/api/puja --> us-central1-api
[debug] [2021-05-30T05:22:12.309Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-30T05:22:12.309Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T05:22:12.323Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T05:22:12.323Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T05:22:12.324Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T05:22:12.324Z] [worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\12028 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\12028"}}
[debug] [2021-05-30T05:22:12.324Z] [worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: BUSY"}}
[debug] [2021-05-30T05:22:12.758Z] [runtime-status] [12028] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T05:22:12.760Z] [runtime-status] [12028] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Disabled runtime features: undefined"}}
[debug] [2021-05-30T05:22:12.763Z] [runtime-status] [12028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:12.766Z] [runtime-status] [12028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:12.768Z] [runtime-status] [12028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:12.770Z] [runtime-status] [12028] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T05:22:12.771Z] [runtime-status] [12028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:12.838Z] [runtime-status] [12028] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T05:22:12.838Z] [runtime-status] [12028] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:22:12.840Z] [runtime-status] [12028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:12.842Z] [runtime-status] [12028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:12.844Z] [runtime-status] [12028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:22:12.844Z] [runtime-status] [12028] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:22:13.079Z] [runtime-status] [12028] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T05:22:13.081Z] [runtime-status] [12028] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T05:22:13.081Z] [runtime-status] [12028] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T05:22:13.086Z] [runtime-status] [12028] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\12028 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\12028"}}
[debug] [2021-05-30T05:22:13.093Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T05:22:13.094Z] [functions] Got req.url=/app-74e2a/us-central1/api/puja, mapping to path=/puja {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/puja, mapping to path=/puja"}}
[debug] [2021-05-30T05:22:13.105Z] [runtime-status] [12028] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Ephemeral server handling GET request"}}
[debug] [2021-05-30T05:22:13.113Z] [runtime-status] [12028] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [12028] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T05:22:13.120Z] [worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: IDLE"}}
[debug] [2021-05-30T05:22:13.121Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T05:33:58.167Z] File D:\amazon-app\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\amazon-app\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-30T05:33:58.745Z] File D:\amazon-app\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File D:\\amazon-app\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-05-30T05:33:59.750Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-05-30T05:33:59.751Z] [worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: FINISHING"}}
[debug] [2021-05-30T05:33:59.751Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-05-30T05:33:59.752Z] [worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: FINISHING"}}
[debug] [2021-05-30T05:33:59.773Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-30T05:33:59.773Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-05-30T05:33:59.774Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-30T05:33:59.774Z] [worker-~diagnostic~-ad9499f3-2277-4b11-aa12-06a6f33e5125]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\17476 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ad9499f3-2277-4b11-aa12-06a6f33e5125]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17476"}}
[debug] [2021-05-30T05:33:59.774Z] [worker-~diagnostic~-ad9499f3-2277-4b11-aa12-06a6f33e5125]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ad9499f3-2277-4b11-aa12-06a6f33e5125]: BUSY"}}
[debug] [2021-05-30T05:33:59.777Z] [worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: exited"}}
[debug] [2021-05-30T05:33:59.778Z] [worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-a2e4c8dd-b8bd-4e64-acb9-92211049a43f]: FINISHED"}}
[debug] [2021-05-30T05:33:59.779Z] [worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: exited"}}
[debug] [2021-05-30T05:33:59.780Z] [worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-74bc208c-55e0-4722-b592-fc03728046fe]: FINISHED"}}
[debug] [2021-05-30T05:34:00.200Z] [runtime-status] [17476] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T05:34:00.202Z] [runtime-status] [17476] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Disabled runtime features: undefined"}}
[debug] [2021-05-30T05:34:00.206Z] [runtime-status] [17476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:34:00.209Z] [runtime-status] [17476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:34:00.212Z] [runtime-status] [17476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:34:00.215Z] [runtime-status] [17476] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T05:34:00.216Z] [runtime-status] [17476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:34:00.298Z] [runtime-status] [17476] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T05:34:00.299Z] [runtime-status] [17476] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:34:00.299Z] [runtime-status] [17476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:34:00.300Z] [runtime-status] [17476] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:34:00.301Z] [runtime-status] [17476] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:34:00.302Z] [runtime-status] [17476] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17476] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:34:00.534Z] [worker-~diagnostic~-ad9499f3-2277-4b11-aa12-06a6f33e5125]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ad9499f3-2277-4b11-aa12-06a6f33e5125]: IDLE"}}
[debug] [2021-05-30T05:42:20.967Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T05:42:20.967Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T05:42:20.967Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=14796 --> us-central1-api
[debug] [2021-05-30T05:42:20.968Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-05-30T05:42:20.968Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T05:42:20.986Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T05:42:20.987Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T05:42:20.987Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T05:42:20.987Z] [worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\19320 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\19320"}}
[debug] [2021-05-30T05:42:20.988Z] [worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: BUSY"}}
[debug] [2021-05-30T05:42:21.358Z] [runtime-status] [19320] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T05:42:21.359Z] [runtime-status] [19320] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Disabled runtime features: undefined"}}
[debug] [2021-05-30T05:42:21.363Z] [runtime-status] [19320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:42:21.365Z] [runtime-status] [19320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:42:21.368Z] [runtime-status] [19320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:42:21.370Z] [runtime-status] [19320] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T05:42:21.373Z] [runtime-status] [19320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:42:21.475Z] [runtime-status] [19320] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T05:42:21.476Z] [runtime-status] [19320] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:42:21.477Z] [runtime-status] [19320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:42:21.481Z] [runtime-status] [19320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:42:21.482Z] [runtime-status] [19320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:42:21.483Z] [runtime-status] [19320] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:42:21.810Z] [runtime-status] [19320] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T05:42:21.812Z] [runtime-status] [19320] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T05:42:21.812Z] [runtime-status] [19320] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T05:42:21.823Z] [runtime-status] [19320] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\19320 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\19320"}}
[debug] [2021-05-30T05:42:21.827Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T05:42:21.828Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796"}}
[debug] [2021-05-30T05:42:21.837Z] [runtime-status] [19320] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Ephemeral server handling POST request"}}
[info] >  payment request received 14796 {"user":"payment request received 14796","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 14796"}}
[debug] [2021-05-30T05:42:21.855Z] [runtime-status] [19320] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T05:42:22.975Z] [worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: IDLE"}}
[debug] [2021-05-30T05:42:22.976Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T05:59:11.651Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T05:59:11.652Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T05:59:11.652Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T05:59:11.653Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T05:59:11.653Z] [worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\19320 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\19320"}}
[debug] [2021-05-30T05:59:11.654Z] [worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: BUSY"}}
[debug] [2021-05-30T05:59:11.655Z] [runtime-status] [19320] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T05:59:11.658Z] [runtime-status] [19320] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T05:59:11.658Z] [runtime-status] [19320] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T05:59:11.659Z] [runtime-status] [19320] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\19320 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\19320"}}
[debug] [2021-05-30T05:59:11.663Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T05:59:11.664Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T05:59:11.674Z] [runtime-status] [19320] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T05:59:11.690Z] [runtime-status] [19320] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19320] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 05:59:12 GMT', {"user":"      date: 'Sun, 30 May 2021 05:59:12 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 05:59:12 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_fujQ8EAxHkAZLz', {"user":"      'request-id': 'req_fujQ8EAxHkAZLz',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_fujQ8EAxHkAZLz',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_fujQ8EAxHkAZLz' {"user":"    requestId: 'req_fujQ8EAxHkAZLz'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_fujQ8EAxHkAZLz'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 05:59:12 GMT', {"user":"    date: 'Sun, 30 May 2021 05:59:12 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 05:59:12 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_fujQ8EAxHkAZLz', {"user":"    'request-id': 'req_fujQ8EAxHkAZLz',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_fujQ8EAxHkAZLz',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_fujQ8EAxHkAZLz', {"user":"  requestId: 'req_fujQ8EAxHkAZLz',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_fujQ8EAxHkAZLz',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T05:59:12.532Z] [worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: exited"}}
[debug] [2021-05-30T05:59:12.533Z] [worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1d926311-e58e-4f91-a69d-69b5ee8e51a9]: FINISHED"}}
[debug] [2021-05-30T05:59:12.533Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T05:59:29.901Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T05:59:29.901Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T05:59:29.901Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=14796 --> us-central1-api
[debug] [2021-05-30T05:59:29.901Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T05:59:29.919Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T05:59:29.920Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T05:59:29.920Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T05:59:29.921Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\18472 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18472"}}
[debug] [2021-05-30T05:59:29.921Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: BUSY"}}
[debug] [2021-05-30T05:59:30.192Z] [runtime-status] [18472] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T05:59:30.193Z] [runtime-status] [18472] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Disabled runtime features: undefined"}}
[debug] [2021-05-30T05:59:30.324Z] [runtime-status] [18472] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:59:30.330Z] [runtime-status] [18472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:59:30.337Z] [runtime-status] [18472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:59:30.344Z] [runtime-status] [18472] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T05:59:30.346Z] [runtime-status] [18472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:59:30.528Z] [runtime-status] [18472] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T05:59:30.529Z] [runtime-status] [18472] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:59:30.529Z] [runtime-status] [18472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:59:30.529Z] [runtime-status] [18472] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:59:30.530Z] [runtime-status] [18472] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T05:59:30.530Z] [runtime-status] [18472] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T05:59:30.866Z] [runtime-status] [18472] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T05:59:30.868Z] [runtime-status] [18472] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T05:59:30.869Z] [runtime-status] [18472] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T05:59:30.875Z] [runtime-status] [18472] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\18472 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18472"}}
[debug] [2021-05-30T05:59:30.880Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T05:59:30.880Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796"}}
[debug] [2021-05-30T05:59:30.888Z] [runtime-status] [18472] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Ephemeral server handling POST request"}}
[info] >  payment request received 14796 {"user":"payment request received 14796","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 14796"}}
[debug] [2021-05-30T05:59:30.904Z] [runtime-status] [18472] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T05:59:31.653Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: IDLE"}}
[debug] [2021-05-30T05:59:31.653Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T06:18:26.472Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T06:18:26.473Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T06:18:26.473Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=16600 --> us-central1-api
[debug] [2021-05-30T06:18:26.474Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T06:18:26.474Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\18472 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18472"}}
[debug] [2021-05-30T06:18:26.474Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: BUSY"}}
[debug] [2021-05-30T06:18:26.475Z] [runtime-status] [18472] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T06:18:26.478Z] [runtime-status] [18472] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T06:18:26.479Z] [runtime-status] [18472] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T06:18:26.479Z] [runtime-status] [18472] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\18472 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18472"}}
[debug] [2021-05-30T06:18:26.482Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T06:18:26.483Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=16600, mapping to path=/payments/create?total=16600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=16600, mapping to path=/payments/create?total=16600"}}
[debug] [2021-05-30T06:18:26.492Z] [runtime-status] [18472] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Ephemeral server handling POST request"}}
[info] >  payment request received 16600 {"user":"payment request received 16600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 16600"}}
[debug] [2021-05-30T06:18:26.499Z] [runtime-status] [18472] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T06:18:27.280Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: IDLE"}}
[debug] [2021-05-30T06:18:27.280Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T06:18:47.003Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T06:18:47.004Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T06:18:47.004Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T06:18:47.004Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T06:18:47.004Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\18472 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18472"}}
[debug] [2021-05-30T06:18:47.004Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: BUSY"}}
[debug] [2021-05-30T06:18:47.006Z] [runtime-status] [18472] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T06:18:47.014Z] [runtime-status] [18472] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T06:18:47.015Z] [runtime-status] [18472] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T06:18:47.015Z] [runtime-status] [18472] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\18472 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18472"}}
[debug] [2021-05-30T06:18:47.021Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T06:18:47.022Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T06:18:47.030Z] [runtime-status] [18472] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T06:18:47.033Z] [runtime-status] [18472] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18472] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 06:18:47 GMT', {"user":"      date: 'Sun, 30 May 2021 06:18:47 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 06:18:47 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_4gmrRLRygSQIE0', {"user":"      'request-id': 'req_4gmrRLRygSQIE0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_4gmrRLRygSQIE0',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_4gmrRLRygSQIE0' {"user":"    requestId: 'req_4gmrRLRygSQIE0'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_4gmrRLRygSQIE0'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 06:18:47 GMT', {"user":"    date: 'Sun, 30 May 2021 06:18:47 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 06:18:47 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_4gmrRLRygSQIE0', {"user":"    'request-id': 'req_4gmrRLRygSQIE0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_4gmrRLRygSQIE0',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_4gmrRLRygSQIE0', {"user":"  requestId: 'req_4gmrRLRygSQIE0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_4gmrRLRygSQIE0',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T06:18:47.403Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: exited"}}
[debug] [2021-05-30T06:18:47.403Z] [worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c8f94d91-5cf9-4f39-a215-533a856ad7f6]: FINISHED"}}
[debug] [2021-05-30T06:18:47.404Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T06:50:44.274Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T06:50:44.274Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T06:50:44.275Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=14796 --> us-central1-api
[debug] [2021-05-30T06:50:44.275Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T06:50:44.298Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T06:50:44.298Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T06:50:44.299Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T06:50:44.299Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\17180 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17180"}}
[debug] [2021-05-30T06:50:44.299Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: BUSY"}}
[debug] [2021-05-30T06:50:44.646Z] [runtime-status] [17180] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T06:50:44.647Z] [runtime-status] [17180] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Disabled runtime features: undefined"}}
[debug] [2021-05-30T06:50:45.049Z] [runtime-status] [17180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T06:50:45.094Z] [runtime-status] [17180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T06:50:45.099Z] [runtime-status] [17180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T06:50:45.104Z] [runtime-status] [17180] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T06:50:45.106Z] [runtime-status] [17180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T06:50:45.750Z] [runtime-status] [17180] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T06:50:45.751Z] [runtime-status] [17180] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T06:50:45.752Z] [runtime-status] [17180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T06:50:45.755Z] [runtime-status] [17180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T06:50:45.756Z] [runtime-status] [17180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T06:50:45.757Z] [runtime-status] [17180] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T06:50:47.422Z] [runtime-status] [17180] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T06:50:47.426Z] [runtime-status] [17180] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T06:50:47.427Z] [runtime-status] [17180] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T06:50:47.435Z] [runtime-status] [17180] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\17180 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17180"}}
[debug] [2021-05-30T06:50:47.446Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T06:50:47.446Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796"}}
[debug] [2021-05-30T06:50:47.463Z] [runtime-status] [17180] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Ephemeral server handling POST request"}}
[info] >  payment request received 14796 {"user":"payment request received 14796","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 14796"}}
[debug] [2021-05-30T06:50:47.486Z] [runtime-status] [17180] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T06:50:48.491Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: IDLE"}}
[debug] [2021-05-30T06:50:48.492Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T06:50:54.865Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T06:50:54.866Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T06:50:54.866Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=4596 --> us-central1-api
[debug] [2021-05-30T06:50:54.866Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T06:50:54.867Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\17180 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17180"}}
[debug] [2021-05-30T06:50:54.867Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: BUSY"}}
[debug] [2021-05-30T06:50:54.869Z] [runtime-status] [17180] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T06:50:54.870Z] [runtime-status] [17180] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T06:50:54.871Z] [runtime-status] [17180] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T06:50:54.871Z] [runtime-status] [17180] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\17180 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17180"}}
[debug] [2021-05-30T06:50:54.872Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T06:50:54.873Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=4596, mapping to path=/payments/create?total=4596 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=4596, mapping to path=/payments/create?total=4596"}}
[debug] [2021-05-30T06:50:54.877Z] [runtime-status] [17180] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Ephemeral server handling POST request"}}
[info] >  payment request received 4596 {"user":"payment request received 4596","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 4596"}}
[debug] [2021-05-30T06:50:54.879Z] [runtime-status] [17180] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T06:50:55.213Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: IDLE"}}
[debug] [2021-05-30T06:50:55.214Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T06:52:05.309Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T06:52:05.309Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T06:52:05.310Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T06:52:05.310Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T06:52:05.310Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\17180 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17180"}}
[debug] [2021-05-30T06:52:05.311Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: BUSY"}}
[debug] [2021-05-30T06:52:05.313Z] [runtime-status] [17180] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T06:52:05.316Z] [runtime-status] [17180] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T06:52:05.317Z] [runtime-status] [17180] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T06:52:05.318Z] [runtime-status] [17180] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\17180 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17180"}}
[debug] [2021-05-30T06:52:05.321Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T06:52:05.322Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T06:52:05.330Z] [runtime-status] [17180] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T06:52:05.335Z] [runtime-status] [17180] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17180] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 06:52:05 GMT', {"user":"      date: 'Sun, 30 May 2021 06:52:05 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 06:52:05 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_LwVu9BvVhTXXxE', {"user":"      'request-id': 'req_LwVu9BvVhTXXxE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_LwVu9BvVhTXXxE',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_LwVu9BvVhTXXxE' {"user":"    requestId: 'req_LwVu9BvVhTXXxE'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_LwVu9BvVhTXXxE'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 06:52:05 GMT', {"user":"    date: 'Sun, 30 May 2021 06:52:05 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 06:52:05 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_LwVu9BvVhTXXxE', {"user":"    'request-id': 'req_LwVu9BvVhTXXxE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_LwVu9BvVhTXXxE',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_LwVu9BvVhTXXxE', {"user":"  requestId: 'req_LwVu9BvVhTXXxE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_LwVu9BvVhTXXxE',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T06:52:05.705Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: exited"}}
[debug] [2021-05-30T06:52:05.706Z] [worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-ebbdf276-bc28-47c5-9df6-cbbc69782928]: FINISHED"}}
[debug] [2021-05-30T06:52:05.706Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:04:11.010Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:04:11.011Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:04:11.011Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T07:04:11.011Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T07:04:11.024Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T07:04:11.025Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T07:04:11.025Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:04:11.026Z] [worker-us-central1-api-8e59fa88-808b-4260-874a-8047b049d4b8]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\16564 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e59fa88-808b-4260-874a-8047b049d4b8]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\16564"}}
[debug] [2021-05-30T07:04:11.026Z] [worker-us-central1-api-8e59fa88-808b-4260-874a-8047b049d4b8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e59fa88-808b-4260-874a-8047b049d4b8]: BUSY"}}
[debug] [2021-05-30T07:04:11.469Z] [runtime-status] [16564] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T07:04:11.474Z] [runtime-status] [16564] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Disabled runtime features: undefined"}}
[debug] [2021-05-30T07:04:11.502Z] [runtime-status] [16564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:11.510Z] [runtime-status] [16564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:11.517Z] [runtime-status] [16564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:11.526Z] [runtime-status] [16564] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T07:04:11.529Z] [runtime-status] [16564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:11.680Z] [runtime-status] [16564] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T07:04:11.681Z] [runtime-status] [16564] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:04:11.681Z] [runtime-status] [16564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:11.689Z] [runtime-status] [16564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:11.690Z] [runtime-status] [16564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:11.691Z] [runtime-status] [16564] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:04:12.109Z] [runtime-status] [16564] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:04:12.111Z] [runtime-status] [16564] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:04:12.111Z] [runtime-status] [16564] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:04:12.115Z] [runtime-status] [16564] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\16564 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\16564"}}
[debug] [2021-05-30T07:04:12.120Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:04:12.120Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T07:04:12.129Z] [runtime-status] [16564] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T07:04:12.148Z] [runtime-status] [16564] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16564] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 07:04:13 GMT', {"user":"      date: 'Sun, 30 May 2021 07:04:13 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 07:04:13 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_JZ1jK9TfmLHzPi', {"user":"      'request-id': 'req_JZ1jK9TfmLHzPi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_JZ1jK9TfmLHzPi',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_JZ1jK9TfmLHzPi' {"user":"    requestId: 'req_JZ1jK9TfmLHzPi'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_JZ1jK9TfmLHzPi'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 07:04:13 GMT', {"user":"    date: 'Sun, 30 May 2021 07:04:13 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 07:04:13 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_JZ1jK9TfmLHzPi', {"user":"    'request-id': 'req_JZ1jK9TfmLHzPi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_JZ1jK9TfmLHzPi',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_JZ1jK9TfmLHzPi', {"user":"  requestId: 'req_JZ1jK9TfmLHzPi',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_JZ1jK9TfmLHzPi',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T07:04:13.305Z] [worker-us-central1-api-8e59fa88-808b-4260-874a-8047b049d4b8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e59fa88-808b-4260-874a-8047b049d4b8]: exited"}}
[debug] [2021-05-30T07:04:13.305Z] [worker-us-central1-api-8e59fa88-808b-4260-874a-8047b049d4b8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8e59fa88-808b-4260-874a-8047b049d4b8]: FINISHED"}}
[debug] [2021-05-30T07:04:13.305Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:04:20.461Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:04:20.462Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:04:20.462Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T07:04:20.462Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T07:04:20.473Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T07:04:20.473Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T07:04:20.473Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:04:20.473Z] [worker-us-central1-api-c05741ce-5abb-41ab-9dff-fc16aef5d9d0]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\17856 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c05741ce-5abb-41ab-9dff-fc16aef5d9d0]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17856"}}
[debug] [2021-05-30T07:04:20.474Z] [worker-us-central1-api-c05741ce-5abb-41ab-9dff-fc16aef5d9d0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c05741ce-5abb-41ab-9dff-fc16aef5d9d0]: BUSY"}}
[debug] [2021-05-30T07:04:20.811Z] [runtime-status] [17856] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T07:04:20.813Z] [runtime-status] [17856] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Disabled runtime features: undefined"}}
[debug] [2021-05-30T07:04:20.818Z] [runtime-status] [17856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:20.822Z] [runtime-status] [17856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:20.825Z] [runtime-status] [17856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:20.827Z] [runtime-status] [17856] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T07:04:20.828Z] [runtime-status] [17856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:20.910Z] [runtime-status] [17856] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T07:04:20.911Z] [runtime-status] [17856] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:04:20.911Z] [runtime-status] [17856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:20.913Z] [runtime-status] [17856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:20.914Z] [runtime-status] [17856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:20.914Z] [runtime-status] [17856] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:04:21.161Z] [runtime-status] [17856] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:04:21.163Z] [runtime-status] [17856] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:04:21.163Z] [runtime-status] [17856] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:04:21.169Z] [runtime-status] [17856] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\17856 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\17856"}}
[debug] [2021-05-30T07:04:21.175Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:04:21.175Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T07:04:21.186Z] [runtime-status] [17856] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T07:04:21.209Z] [runtime-status] [17856] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [17856] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 07:04:22 GMT', {"user":"      date: 'Sun, 30 May 2021 07:04:22 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 07:04:22 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_0syedOkKyQFQ1h', {"user":"      'request-id': 'req_0syedOkKyQFQ1h',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_0syedOkKyQFQ1h',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_0syedOkKyQFQ1h' {"user":"    requestId: 'req_0syedOkKyQFQ1h'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_0syedOkKyQFQ1h'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 07:04:22 GMT', {"user":"    date: 'Sun, 30 May 2021 07:04:22 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 07:04:22 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_0syedOkKyQFQ1h', {"user":"    'request-id': 'req_0syedOkKyQFQ1h',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_0syedOkKyQFQ1h',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_0syedOkKyQFQ1h', {"user":"  requestId: 'req_0syedOkKyQFQ1h',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_0syedOkKyQFQ1h',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T07:04:21.999Z] [worker-us-central1-api-c05741ce-5abb-41ab-9dff-fc16aef5d9d0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c05741ce-5abb-41ab-9dff-fc16aef5d9d0]: exited"}}
[debug] [2021-05-30T07:04:22.001Z] [worker-us-central1-api-c05741ce-5abb-41ab-9dff-fc16aef5d9d0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c05741ce-5abb-41ab-9dff-fc16aef5d9d0]: FINISHED"}}
[debug] [2021-05-30T07:04:22.001Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:04:37.799Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:04:37.799Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:04:37.799Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=60696 --> us-central1-api
[debug] [2021-05-30T07:04:37.800Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T07:04:37.811Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T07:04:37.812Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T07:04:37.812Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:04:37.812Z] [worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\15376 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15376"}}
[debug] [2021-05-30T07:04:37.812Z] [worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: BUSY"}}
[debug] [2021-05-30T07:04:38.066Z] [runtime-status] [15376] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T07:04:38.068Z] [runtime-status] [15376] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Disabled runtime features: undefined"}}
[debug] [2021-05-30T07:04:38.071Z] [runtime-status] [15376] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:38.073Z] [runtime-status] [15376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:38.075Z] [runtime-status] [15376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:38.077Z] [runtime-status] [15376] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T07:04:38.078Z] [runtime-status] [15376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:38.132Z] [runtime-status] [15376] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T07:04:38.133Z] [runtime-status] [15376] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:04:38.133Z] [runtime-status] [15376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:38.135Z] [runtime-status] [15376] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:38.136Z] [runtime-status] [15376] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:04:38.136Z] [runtime-status] [15376] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:04:38.344Z] [runtime-status] [15376] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:04:38.345Z] [runtime-status] [15376] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:04:38.346Z] [runtime-status] [15376] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:04:38.350Z] [runtime-status] [15376] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\15376 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15376"}}
[debug] [2021-05-30T07:04:38.355Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:04:38.356Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=60696, mapping to path=/payments/create?total=60696 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=60696, mapping to path=/payments/create?total=60696"}}
[debug] [2021-05-30T07:04:38.376Z] [runtime-status] [15376] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Ephemeral server handling POST request"}}
[info] >  payment request received 60696 {"user":"payment request received 60696","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 60696"}}
[debug] [2021-05-30T07:04:38.413Z] [runtime-status] [15376] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T07:04:39.306Z] [worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: IDLE"}}
[debug] [2021-05-30T07:04:39.306Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:05:35.783Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:05:35.784Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:05:35.784Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T07:05:35.784Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:05:35.784Z] [worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\15376 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15376"}}
[debug] [2021-05-30T07:05:35.784Z] [worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: BUSY"}}
[debug] [2021-05-30T07:05:35.785Z] [runtime-status] [15376] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:05:35.787Z] [runtime-status] [15376] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:05:35.788Z] [runtime-status] [15376] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:05:35.788Z] [runtime-status] [15376] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\15376 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15376"}}
[debug] [2021-05-30T07:05:35.790Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:05:35.790Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T07:05:35.797Z] [runtime-status] [15376] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T07:05:35.801Z] [runtime-status] [15376] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15376] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 07:05:36 GMT', {"user":"      date: 'Sun, 30 May 2021 07:05:36 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 07:05:36 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_40Usr9TSaZLg3g', {"user":"      'request-id': 'req_40Usr9TSaZLg3g',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_40Usr9TSaZLg3g',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_40Usr9TSaZLg3g' {"user":"    requestId: 'req_40Usr9TSaZLg3g'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_40Usr9TSaZLg3g'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 07:05:36 GMT', {"user":"    date: 'Sun, 30 May 2021 07:05:36 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 07:05:36 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_40Usr9TSaZLg3g', {"user":"    'request-id': 'req_40Usr9TSaZLg3g',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_40Usr9TSaZLg3g',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_40Usr9TSaZLg3g', {"user":"  requestId: 'req_40Usr9TSaZLg3g',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_40Usr9TSaZLg3g',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T07:05:36.489Z] [worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: exited"}}
[debug] [2021-05-30T07:05:36.490Z] [worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8bf28184-4ff7-4287-9cca-1f08f5efe02b]: FINISHED"}}
[debug] [2021-05-30T07:05:36.490Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:05:43.902Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:05:43.903Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:05:43.903Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T07:05:43.903Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T07:05:43.916Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T07:05:43.916Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T07:05:43.917Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:05:43.917Z] [worker-us-central1-api-5e191ca8-1c7b-4974-9273-14c869dabfd0]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\2636 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5e191ca8-1c7b-4974-9273-14c869dabfd0]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\2636"}}
[debug] [2021-05-30T07:05:43.917Z] [worker-us-central1-api-5e191ca8-1c7b-4974-9273-14c869dabfd0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5e191ca8-1c7b-4974-9273-14c869dabfd0]: BUSY"}}
[debug] [2021-05-30T07:05:44.248Z] [runtime-status] [2636] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T07:05:44.250Z] [runtime-status] [2636] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Disabled runtime features: undefined"}}
[debug] [2021-05-30T07:05:44.253Z] [runtime-status] [2636] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:44.255Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:44.257Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:44.260Z] [runtime-status] [2636] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T07:05:44.261Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:44.326Z] [runtime-status] [2636] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T07:05:44.326Z] [runtime-status] [2636] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:05:44.329Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:44.331Z] [runtime-status] [2636] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:44.332Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:44.332Z] [runtime-status] [2636] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:05:44.618Z] [runtime-status] [2636] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:05:44.621Z] [runtime-status] [2636] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:05:44.621Z] [runtime-status] [2636] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:05:44.626Z] [runtime-status] [2636] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\2636 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\2636"}}
[debug] [2021-05-30T07:05:44.630Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:05:44.631Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T07:05:44.639Z] [runtime-status] [2636] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T07:05:44.656Z] [runtime-status] [2636] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2636] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 07:05:45 GMT', {"user":"      date: 'Sun, 30 May 2021 07:05:45 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 07:05:45 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_FX7Si1CTB7Hk46', {"user":"      'request-id': 'req_FX7Si1CTB7Hk46',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_FX7Si1CTB7Hk46',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_FX7Si1CTB7Hk46' {"user":"    requestId: 'req_FX7Si1CTB7Hk46'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_FX7Si1CTB7Hk46'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 07:05:45 GMT', {"user":"    date: 'Sun, 30 May 2021 07:05:45 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 07:05:45 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_FX7Si1CTB7Hk46', {"user":"    'request-id': 'req_FX7Si1CTB7Hk46',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_FX7Si1CTB7Hk46',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_FX7Si1CTB7Hk46', {"user":"  requestId: 'req_FX7Si1CTB7Hk46',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_FX7Si1CTB7Hk46',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T07:05:45.482Z] [worker-us-central1-api-5e191ca8-1c7b-4974-9273-14c869dabfd0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5e191ca8-1c7b-4974-9273-14c869dabfd0]: exited"}}
[debug] [2021-05-30T07:05:45.483Z] [worker-us-central1-api-5e191ca8-1c7b-4974-9273-14c869dabfd0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5e191ca8-1c7b-4974-9273-14c869dabfd0]: FINISHED"}}
[debug] [2021-05-30T07:05:45.483Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:05:58.804Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:05:58.805Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:05:58.805Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=14796 --> us-central1-api
[debug] [2021-05-30T07:05:58.805Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T07:05:58.826Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T07:05:58.826Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T07:05:58.827Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:05:58.827Z] [worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\8816 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\8816"}}
[debug] [2021-05-30T07:05:58.828Z] [worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: BUSY"}}
[debug] [2021-05-30T07:05:59.107Z] [runtime-status] [8816] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T07:05:59.108Z] [runtime-status] [8816] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Disabled runtime features: undefined"}}
[debug] [2021-05-30T07:05:59.112Z] [runtime-status] [8816] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:59.113Z] [runtime-status] [8816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:59.115Z] [runtime-status] [8816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:59.117Z] [runtime-status] [8816] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T07:05:59.118Z] [runtime-status] [8816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:59.184Z] [runtime-status] [8816] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T07:05:59.184Z] [runtime-status] [8816] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:05:59.185Z] [runtime-status] [8816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:59.188Z] [runtime-status] [8816] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:59.189Z] [runtime-status] [8816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:05:59.190Z] [runtime-status] [8816] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:05:59.423Z] [runtime-status] [8816] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:05:59.424Z] [runtime-status] [8816] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:05:59.425Z] [runtime-status] [8816] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:05:59.428Z] [runtime-status] [8816] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\8816 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\8816"}}
[debug] [2021-05-30T07:05:59.432Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:05:59.433Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796"}}
[debug] [2021-05-30T07:05:59.451Z] [runtime-status] [8816] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Ephemeral server handling POST request"}}
[info] >  payment request received 14796 {"user":"payment request received 14796","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 14796"}}
[debug] [2021-05-30T07:05:59.478Z] [runtime-status] [8816] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T07:06:00.405Z] [worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: IDLE"}}
[debug] [2021-05-30T07:06:00.405Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:07:25.725Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:07:25.726Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:07:25.726Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T07:07:25.726Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:07:25.726Z] [worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\8816 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\8816"}}
[debug] [2021-05-30T07:07:25.726Z] [worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: BUSY"}}
[debug] [2021-05-30T07:07:25.726Z] [runtime-status] [8816] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:07:25.728Z] [runtime-status] [8816] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:07:25.728Z] [runtime-status] [8816] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:07:25.729Z] [runtime-status] [8816] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\8816 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\8816"}}
[debug] [2021-05-30T07:07:25.730Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:07:25.731Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T07:07:25.736Z] [runtime-status] [8816] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T07:07:25.740Z] [runtime-status] [8816] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [8816] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 07:07:26 GMT', {"user":"      date: 'Sun, 30 May 2021 07:07:26 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 07:07:26 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_8XLGtB4iszH9UD', {"user":"      'request-id': 'req_8XLGtB4iszH9UD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_8XLGtB4iszH9UD',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_8XLGtB4iszH9UD' {"user":"    requestId: 'req_8XLGtB4iszH9UD'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_8XLGtB4iszH9UD'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 07:07:26 GMT', {"user":"    date: 'Sun, 30 May 2021 07:07:26 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 07:07:26 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_8XLGtB4iszH9UD', {"user":"    'request-id': 'req_8XLGtB4iszH9UD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_8XLGtB4iszH9UD',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_8XLGtB4iszH9UD', {"user":"  requestId: 'req_8XLGtB4iszH9UD',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_8XLGtB4iszH9UD',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T07:07:26.413Z] [worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: exited"}}
[debug] [2021-05-30T07:07:26.413Z] [worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d28aecb7-2090-4bec-82fc-4ddf22258d53]: FINISHED"}}
[debug] [2021-05-30T07:07:26.413Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:07:35.715Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:07:35.715Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:07:35.716Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T07:07:35.716Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T07:07:35.733Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T07:07:35.733Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T07:07:35.734Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:07:35.734Z] [worker-us-central1-api-cd6e9127-e7fd-4409-89bd-082f8967b536]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\2184 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cd6e9127-e7fd-4409-89bd-082f8967b536]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\2184"}}
[debug] [2021-05-30T07:07:35.734Z] [worker-us-central1-api-cd6e9127-e7fd-4409-89bd-082f8967b536]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cd6e9127-e7fd-4409-89bd-082f8967b536]: BUSY"}}
[debug] [2021-05-30T07:07:36.103Z] [runtime-status] [2184] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T07:07:36.107Z] [runtime-status] [2184] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Disabled runtime features: undefined"}}
[debug] [2021-05-30T07:07:36.116Z] [runtime-status] [2184] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:36.119Z] [runtime-status] [2184] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:36.123Z] [runtime-status] [2184] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:36.126Z] [runtime-status] [2184] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T07:07:36.128Z] [runtime-status] [2184] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:36.210Z] [runtime-status] [2184] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T07:07:36.210Z] [runtime-status] [2184] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:07:36.211Z] [runtime-status] [2184] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:36.213Z] [runtime-status] [2184] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:36.215Z] [runtime-status] [2184] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:36.215Z] [runtime-status] [2184] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:07:36.473Z] [runtime-status] [2184] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:07:36.475Z] [runtime-status] [2184] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:07:36.475Z] [runtime-status] [2184] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:07:36.481Z] [runtime-status] [2184] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\2184 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\2184"}}
[debug] [2021-05-30T07:07:36.486Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:07:36.486Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T07:07:36.498Z] [runtime-status] [2184] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T07:07:36.516Z] [runtime-status] [2184] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [2184] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 07:07:37 GMT', {"user":"      date: 'Sun, 30 May 2021 07:07:37 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 07:07:37 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_P1aVqV4ntEOhaX', {"user":"      'request-id': 'req_P1aVqV4ntEOhaX',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_P1aVqV4ntEOhaX',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_P1aVqV4ntEOhaX' {"user":"    requestId: 'req_P1aVqV4ntEOhaX'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_P1aVqV4ntEOhaX'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 07:07:37 GMT', {"user":"    date: 'Sun, 30 May 2021 07:07:37 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 07:07:37 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_P1aVqV4ntEOhaX', {"user":"    'request-id': 'req_P1aVqV4ntEOhaX',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_P1aVqV4ntEOhaX',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_P1aVqV4ntEOhaX', {"user":"  requestId: 'req_P1aVqV4ntEOhaX',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_P1aVqV4ntEOhaX',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T07:07:37.577Z] [worker-us-central1-api-cd6e9127-e7fd-4409-89bd-082f8967b536]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cd6e9127-e7fd-4409-89bd-082f8967b536]: exited"}}
[debug] [2021-05-30T07:07:37.578Z] [worker-us-central1-api-cd6e9127-e7fd-4409-89bd-082f8967b536]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cd6e9127-e7fd-4409-89bd-082f8967b536]: FINISHED"}}
[debug] [2021-05-30T07:07:37.578Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:07:54.636Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:07:54.637Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:07:54.637Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=14796 --> us-central1-api
[debug] [2021-05-30T07:07:54.637Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T07:07:54.649Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T07:07:54.649Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T07:07:54.650Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:07:54.650Z] [worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\756 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\756"}}
[debug] [2021-05-30T07:07:54.650Z] [worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: BUSY"}}
[debug] [2021-05-30T07:07:54.927Z] [runtime-status] [756] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T07:07:54.928Z] [runtime-status] [756] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Disabled runtime features: undefined"}}
[debug] [2021-05-30T07:07:54.934Z] [runtime-status] [756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:54.937Z] [runtime-status] [756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:54.940Z] [runtime-status] [756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:54.943Z] [runtime-status] [756] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T07:07:54.945Z] [runtime-status] [756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:55.006Z] [runtime-status] [756] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T07:07:55.007Z] [runtime-status] [756] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:07:55.007Z] [runtime-status] [756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:55.009Z] [runtime-status] [756] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:55.010Z] [runtime-status] [756] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:07:55.010Z] [runtime-status] [756] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:07:55.232Z] [runtime-status] [756] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:07:55.233Z] [runtime-status] [756] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:07:55.234Z] [runtime-status] [756] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:07:55.239Z] [runtime-status] [756] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\756 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\756"}}
[debug] [2021-05-30T07:07:55.243Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:07:55.244Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796"}}
[debug] [2021-05-30T07:07:55.252Z] [runtime-status] [756] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Ephemeral server handling POST request"}}
[info] >  payment request received 14796 {"user":"payment request received 14796","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 14796"}}
[debug] [2021-05-30T07:07:55.269Z] [runtime-status] [756] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T07:07:56.026Z] [worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: IDLE"}}
[debug] [2021-05-30T07:07:56.027Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:12:16.508Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:12:16.508Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:12:16.509Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T07:12:16.509Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:12:16.509Z] [worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\756 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\756"}}
[debug] [2021-05-30T07:12:16.509Z] [worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: BUSY"}}
[debug] [2021-05-30T07:12:16.510Z] [runtime-status] [756] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:12:16.513Z] [runtime-status] [756] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:12:16.514Z] [runtime-status] [756] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:12:16.514Z] [runtime-status] [756] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\756 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\756"}}
[debug] [2021-05-30T07:12:16.517Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:12:16.518Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T07:12:16.527Z] [runtime-status] [756] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T07:12:16.534Z] [runtime-status] [756] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [756] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 07:12:17 GMT', {"user":"      date: 'Sun, 30 May 2021 07:12:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 07:12:17 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_V1rA1w1Bb2WI3Z', {"user":"      'request-id': 'req_V1rA1w1Bb2WI3Z',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_V1rA1w1Bb2WI3Z',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_V1rA1w1Bb2WI3Z' {"user":"    requestId: 'req_V1rA1w1Bb2WI3Z'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_V1rA1w1Bb2WI3Z'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 07:12:17 GMT', {"user":"    date: 'Sun, 30 May 2021 07:12:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 07:12:17 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_V1rA1w1Bb2WI3Z', {"user":"    'request-id': 'req_V1rA1w1Bb2WI3Z',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_V1rA1w1Bb2WI3Z',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_V1rA1w1Bb2WI3Z', {"user":"  requestId: 'req_V1rA1w1Bb2WI3Z',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_V1rA1w1Bb2WI3Z',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T07:12:17.169Z] [worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: exited"}}
[debug] [2021-05-30T07:12:17.170Z] [worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0d19c4d9-a683-4c26-9899-c8dec0cdb281]: FINISHED"}}
[debug] [2021-05-30T07:12:17.170Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:12:31.574Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:12:31.575Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:12:31.575Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=14796 --> us-central1-api
[debug] [2021-05-30T07:12:31.575Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T07:12:31.596Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T07:12:31.596Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T07:12:31.596Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:12:31.597Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\9900 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\9900"}}
[debug] [2021-05-30T07:12:31.597Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: BUSY"}}
[debug] [2021-05-30T07:12:31.898Z] [runtime-status] [9900] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T07:12:31.899Z] [runtime-status] [9900] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Disabled runtime features: undefined"}}
[debug] [2021-05-30T07:12:31.903Z] [runtime-status] [9900] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:12:31.904Z] [runtime-status] [9900] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:12:31.906Z] [runtime-status] [9900] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:12:31.908Z] [runtime-status] [9900] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T07:12:31.909Z] [runtime-status] [9900] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:12:31.984Z] [runtime-status] [9900] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T07:12:31.985Z] [runtime-status] [9900] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:12:31.986Z] [runtime-status] [9900] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:12:31.987Z] [runtime-status] [9900] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:12:31.988Z] [runtime-status] [9900] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T07:12:31.988Z] [runtime-status] [9900] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T07:12:32.226Z] [runtime-status] [9900] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:12:32.236Z] [runtime-status] [9900] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:12:32.236Z] [runtime-status] [9900] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:12:32.237Z] [runtime-status] [9900] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\9900 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\9900"}}
[debug] [2021-05-30T07:12:32.240Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:12:32.240Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796"}}
[debug] [2021-05-30T07:12:32.251Z] [runtime-status] [9900] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Ephemeral server handling POST request"}}
[info] >  payment request received 14796 {"user":"payment request received 14796","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 14796"}}
[debug] [2021-05-30T07:12:32.267Z] [runtime-status] [9900] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T07:12:32.997Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: IDLE"}}
[debug] [2021-05-30T07:12:32.997Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T07:42:16.739Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T07:42:16.739Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T07:42:16.740Z] Accepted request GET /app-74e2a/us-central1/api/ --> us-central1-api
[debug] [2021-05-30T07:42:16.740Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T07:42:16.740Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\9900 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\9900"}}
[debug] [2021-05-30T07:42:16.740Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: BUSY"}}
[debug] [2021-05-30T07:42:16.741Z] [runtime-status] [9900] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T07:42:16.744Z] [runtime-status] [9900] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T07:42:16.744Z] [runtime-status] [9900] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T07:42:16.745Z] [runtime-status] [9900] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\9900 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\9900"}}
[debug] [2021-05-30T07:42:16.748Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T07:42:16.749Z] [functions] Got req.url=/app-74e2a/us-central1/api/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/, mapping to path=/"}}
[debug] [2021-05-30T07:42:16.757Z] [runtime-status] [9900] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Ephemeral server handling GET request"}}
[debug] [2021-05-30T07:42:16.762Z] [runtime-status] [9900] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T07:42:16.765Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: IDLE"}}
[debug] [2021-05-30T07:42:16.766Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:02:04.833Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:02:04.834Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:02:04.834Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:02:04.834Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:02:04.834Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\9900 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\9900"}}
[debug] [2021-05-30T08:02:04.841Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: BUSY"}}
[debug] [2021-05-30T08:02:04.843Z] [runtime-status] [9900] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:02:04.852Z] [runtime-status] [9900] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:02:04.853Z] [runtime-status] [9900] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:02:04.854Z] [runtime-status] [9900] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\9900 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\9900"}}
[debug] [2021-05-30T08:02:04.857Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:02:04.857Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:02:04.869Z] [runtime-status] [9900] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:02:04.888Z] [runtime-status] [9900] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [9900] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:02:05 GMT', {"user":"      date: 'Sun, 30 May 2021 08:02:05 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:02:05 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_QK95u5H6XbG4We', {"user":"      'request-id': 'req_QK95u5H6XbG4We',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_QK95u5H6XbG4We',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_QK95u5H6XbG4We' {"user":"    requestId: 'req_QK95u5H6XbG4We'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_QK95u5H6XbG4We'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:02:05 GMT', {"user":"    date: 'Sun, 30 May 2021 08:02:05 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:02:05 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_QK95u5H6XbG4We', {"user":"    'request-id': 'req_QK95u5H6XbG4We',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_QK95u5H6XbG4We',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_QK95u5H6XbG4We', {"user":"  requestId: 'req_QK95u5H6XbG4We',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_QK95u5H6XbG4We',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:02:05.721Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: exited"}}
[debug] [2021-05-30T08:02:05.721Z] [worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3ca2898b-8031-4a74-b13c-cb0bf8bd16b0]: FINISHED"}}
[debug] [2021-05-30T08:02:05.722Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:02:11.634Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:02:11.634Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:02:11.634Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:02:11.634Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:02:11.651Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:02:11.651Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:02:11.651Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:02:11.652Z] [worker-us-central1-api-9ce06fab-c22b-4d25-9588-436ece9a98b1]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\14408 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9ce06fab-c22b-4d25-9588-436ece9a98b1]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\14408"}}
[debug] [2021-05-30T08:02:11.652Z] [worker-us-central1-api-9ce06fab-c22b-4d25-9588-436ece9a98b1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9ce06fab-c22b-4d25-9588-436ece9a98b1]: BUSY"}}
[debug] [2021-05-30T08:02:12.258Z] [runtime-status] [14408] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:02:12.259Z] [runtime-status] [14408] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:02:12.264Z] [runtime-status] [14408] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:12.266Z] [runtime-status] [14408] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:12.268Z] [runtime-status] [14408] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:12.273Z] [runtime-status] [14408] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:02:12.274Z] [runtime-status] [14408] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:12.340Z] [runtime-status] [14408] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:02:12.341Z] [runtime-status] [14408] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:02:12.341Z] [runtime-status] [14408] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:12.343Z] [runtime-status] [14408] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:12.343Z] [runtime-status] [14408] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:12.345Z] [runtime-status] [14408] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:02:12.658Z] [runtime-status] [14408] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:02:12.660Z] [runtime-status] [14408] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:02:12.661Z] [runtime-status] [14408] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:02:12.666Z] [runtime-status] [14408] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\14408 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\14408"}}
[debug] [2021-05-30T08:02:12.671Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:02:12.672Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:02:12.681Z] [runtime-status] [14408] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:02:12.696Z] [runtime-status] [14408] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14408] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:02:13 GMT', {"user":"      date: 'Sun, 30 May 2021 08:02:13 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:02:13 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_rUqc09wXPO7g7x', {"user":"      'request-id': 'req_rUqc09wXPO7g7x',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_rUqc09wXPO7g7x',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_rUqc09wXPO7g7x' {"user":"    requestId: 'req_rUqc09wXPO7g7x'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_rUqc09wXPO7g7x'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:02:13 GMT', {"user":"    date: 'Sun, 30 May 2021 08:02:13 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:02:13 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_rUqc09wXPO7g7x', {"user":"    'request-id': 'req_rUqc09wXPO7g7x',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_rUqc09wXPO7g7x',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_rUqc09wXPO7g7x', {"user":"  requestId: 'req_rUqc09wXPO7g7x',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_rUqc09wXPO7g7x',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:02:13.544Z] [worker-us-central1-api-9ce06fab-c22b-4d25-9588-436ece9a98b1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9ce06fab-c22b-4d25-9588-436ece9a98b1]: exited"}}
[debug] [2021-05-30T08:02:13.544Z] [worker-us-central1-api-9ce06fab-c22b-4d25-9588-436ece9a98b1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9ce06fab-c22b-4d25-9588-436ece9a98b1]: FINISHED"}}
[debug] [2021-05-30T08:02:13.545Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:02:24.450Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:02:24.451Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:02:24.451Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=10200 --> us-central1-api
[debug] [2021-05-30T08:02:24.451Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:02:24.472Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:02:24.472Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:02:24.472Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:02:24.472Z] [worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\13320 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\13320"}}
[debug] [2021-05-30T08:02:24.472Z] [worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: BUSY"}}
[debug] [2021-05-30T08:02:24.798Z] [runtime-status] [13320] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:02:24.801Z] [runtime-status] [13320] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:02:24.811Z] [runtime-status] [13320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:24.816Z] [runtime-status] [13320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:24.820Z] [runtime-status] [13320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:24.827Z] [runtime-status] [13320] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:02:24.828Z] [runtime-status] [13320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:24.897Z] [runtime-status] [13320] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:02:24.897Z] [runtime-status] [13320] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:02:24.899Z] [runtime-status] [13320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:24.902Z] [runtime-status] [13320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:24.903Z] [runtime-status] [13320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:02:24.904Z] [runtime-status] [13320] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:02:25.268Z] [runtime-status] [13320] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:02:25.270Z] [runtime-status] [13320] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:02:25.271Z] [runtime-status] [13320] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:02:25.274Z] [runtime-status] [13320] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\13320 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\13320"}}
[debug] [2021-05-30T08:02:25.279Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:02:25.280Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=10200, mapping to path=/payments/create?total=10200 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=10200, mapping to path=/payments/create?total=10200"}}
[debug] [2021-05-30T08:02:25.290Z] [runtime-status] [13320] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Ephemeral server handling POST request"}}
[info] >  payment request received 10200 {"user":"payment request received 10200","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 10200"}}
[debug] [2021-05-30T08:02:25.306Z] [runtime-status] [13320] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T08:02:26.152Z] [worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: IDLE"}}
[debug] [2021-05-30T08:02:26.152Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:03:05.209Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:03:05.209Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:03:05.210Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:03:05.210Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:03:05.214Z] [worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\13320 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\13320"}}
[debug] [2021-05-30T08:03:05.214Z] [worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: BUSY"}}
[debug] [2021-05-30T08:03:05.216Z] [runtime-status] [13320] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:03:05.219Z] [runtime-status] [13320] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:03:05.220Z] [runtime-status] [13320] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:03:05.220Z] [runtime-status] [13320] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\13320 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\13320"}}
[debug] [2021-05-30T08:03:05.222Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:03:05.223Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:03:05.230Z] [runtime-status] [13320] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:03:05.238Z] [runtime-status] [13320] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [13320] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:03:05 GMT', {"user":"      date: 'Sun, 30 May 2021 08:03:05 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:03:05 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_KaYSqfGZgEjjQq', {"user":"      'request-id': 'req_KaYSqfGZgEjjQq',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_KaYSqfGZgEjjQq',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_KaYSqfGZgEjjQq' {"user":"    requestId: 'req_KaYSqfGZgEjjQq'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_KaYSqfGZgEjjQq'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:03:05 GMT', {"user":"    date: 'Sun, 30 May 2021 08:03:05 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:03:05 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_KaYSqfGZgEjjQq', {"user":"    'request-id': 'req_KaYSqfGZgEjjQq',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_KaYSqfGZgEjjQq',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_KaYSqfGZgEjjQq', {"user":"  requestId: 'req_KaYSqfGZgEjjQq',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_KaYSqfGZgEjjQq',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:03:05.747Z] [worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: exited"}}
[debug] [2021-05-30T08:03:05.748Z] [worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-21ff6ee0-2ba0-4473-b65d-d4c033ee1070]: FINISHED"}}
[debug] [2021-05-30T08:03:05.748Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:03:22.801Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:03:22.801Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:03:22.801Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=10200 --> us-central1-api
[debug] [2021-05-30T08:03:22.801Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:03:22.814Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:03:22.814Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:03:22.814Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:03:22.814Z] [worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\18844 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18844"}}
[debug] [2021-05-30T08:03:22.814Z] [worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: BUSY"}}
[debug] [2021-05-30T08:03:23.215Z] [runtime-status] [18844] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:03:23.217Z] [runtime-status] [18844] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:03:23.222Z] [runtime-status] [18844] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:03:23.224Z] [runtime-status] [18844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:03:23.226Z] [runtime-status] [18844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:03:23.228Z] [runtime-status] [18844] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:03:23.229Z] [runtime-status] [18844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:03:23.299Z] [runtime-status] [18844] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:03:23.300Z] [runtime-status] [18844] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:03:23.300Z] [runtime-status] [18844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:03:23.301Z] [runtime-status] [18844] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:03:23.302Z] [runtime-status] [18844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:03:23.303Z] [runtime-status] [18844] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:03:23.552Z] [runtime-status] [18844] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:03:23.554Z] [runtime-status] [18844] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:03:23.555Z] [runtime-status] [18844] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:03:23.559Z] [runtime-status] [18844] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\18844 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18844"}}
[debug] [2021-05-30T08:03:23.564Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:03:23.564Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=10200, mapping to path=/payments/create?total=10200 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=10200, mapping to path=/payments/create?total=10200"}}
[debug] [2021-05-30T08:03:23.573Z] [runtime-status] [18844] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Ephemeral server handling POST request"}}
[info] >  payment request received 10200 {"user":"payment request received 10200","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 10200"}}
[debug] [2021-05-30T08:03:23.587Z] [runtime-status] [18844] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T08:03:25.501Z] [worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: IDLE"}}
[debug] [2021-05-30T08:03:25.501Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:04:00.472Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:04:00.473Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:04:00.473Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:04:00.473Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:04:00.473Z] [worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\18844 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18844"}}
[debug] [2021-05-30T08:04:00.473Z] [worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: BUSY"}}
[debug] [2021-05-30T08:04:00.474Z] [runtime-status] [18844] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:04:00.478Z] [runtime-status] [18844] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:04:00.478Z] [runtime-status] [18844] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:04:00.479Z] [runtime-status] [18844] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\18844 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\18844"}}
[debug] [2021-05-30T08:04:00.481Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:04:00.481Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:04:00.486Z] [runtime-status] [18844] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:04:00.491Z] [runtime-status] [18844] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [18844] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:04:01 GMT', {"user":"      date: 'Sun, 30 May 2021 08:04:01 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:04:01 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_idCvX0p3uO1iFT', {"user":"      'request-id': 'req_idCvX0p3uO1iFT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_idCvX0p3uO1iFT',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_idCvX0p3uO1iFT' {"user":"    requestId: 'req_idCvX0p3uO1iFT'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_idCvX0p3uO1iFT'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:04:01 GMT', {"user":"    date: 'Sun, 30 May 2021 08:04:01 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:04:01 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_idCvX0p3uO1iFT', {"user":"    'request-id': 'req_idCvX0p3uO1iFT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_idCvX0p3uO1iFT',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_idCvX0p3uO1iFT', {"user":"  requestId: 'req_idCvX0p3uO1iFT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_idCvX0p3uO1iFT',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:04:00.889Z] [worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: exited"}}
[debug] [2021-05-30T08:04:00.889Z] [worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0ffb6206-3cb5-4d8d-a35c-024f3199d239]: FINISHED"}}
[debug] [2021-05-30T08:04:00.889Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:04:06.848Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:04:06.848Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:04:06.848Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:04:06.849Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:04:06.862Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:04:06.863Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:04:06.863Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:04:06.863Z] [worker-us-central1-api-a3f60e5f-b0b7-47b1-afa3-4a029473d8a0]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\11396 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a3f60e5f-b0b7-47b1-afa3-4a029473d8a0]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\11396"}}
[debug] [2021-05-30T08:04:06.863Z] [worker-us-central1-api-a3f60e5f-b0b7-47b1-afa3-4a029473d8a0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a3f60e5f-b0b7-47b1-afa3-4a029473d8a0]: BUSY"}}
[debug] [2021-05-30T08:04:07.433Z] [runtime-status] [11396] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:04:07.435Z] [runtime-status] [11396] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:04:07.443Z] [runtime-status] [11396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:07.447Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:07.449Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:07.452Z] [runtime-status] [11396] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:04:07.453Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:07.535Z] [runtime-status] [11396] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:04:07.536Z] [runtime-status] [11396] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:04:07.537Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:07.542Z] [runtime-status] [11396] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:07.544Z] [runtime-status] [11396] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:07.545Z] [runtime-status] [11396] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:04:07.760Z] [runtime-status] [11396] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:04:07.762Z] [runtime-status] [11396] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:04:07.762Z] [runtime-status] [11396] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:04:07.768Z] [runtime-status] [11396] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\11396 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\11396"}}
[debug] [2021-05-30T08:04:07.775Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:04:07.775Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:04:07.784Z] [runtime-status] [11396] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:04:07.801Z] [runtime-status] [11396] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [11396] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:04:08 GMT', {"user":"      date: 'Sun, 30 May 2021 08:04:08 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:04:08 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_cvninS1f2umCdT', {"user":"      'request-id': 'req_cvninS1f2umCdT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_cvninS1f2umCdT',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_cvninS1f2umCdT' {"user":"    requestId: 'req_cvninS1f2umCdT'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_cvninS1f2umCdT'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:04:08 GMT', {"user":"    date: 'Sun, 30 May 2021 08:04:08 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:04:08 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_cvninS1f2umCdT', {"user":"    'request-id': 'req_cvninS1f2umCdT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_cvninS1f2umCdT',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_cvninS1f2umCdT', {"user":"  requestId: 'req_cvninS1f2umCdT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_cvninS1f2umCdT',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:04:08.770Z] [worker-us-central1-api-a3f60e5f-b0b7-47b1-afa3-4a029473d8a0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a3f60e5f-b0b7-47b1-afa3-4a029473d8a0]: exited"}}
[debug] [2021-05-30T08:04:08.770Z] [worker-us-central1-api-a3f60e5f-b0b7-47b1-afa3-4a029473d8a0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a3f60e5f-b0b7-47b1-afa3-4a029473d8a0]: FINISHED"}}
[debug] [2021-05-30T08:04:08.771Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:04:23.102Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:04:23.103Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:04:23.103Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=10200 --> us-central1-api
[debug] [2021-05-30T08:04:23.103Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:04:23.115Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:04:23.115Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:04:23.116Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:04:23.116Z] [worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\16308 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\16308"}}
[debug] [2021-05-30T08:04:23.116Z] [worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: BUSY"}}
[debug] [2021-05-30T08:04:23.474Z] [runtime-status] [16308] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:04:23.475Z] [runtime-status] [16308] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:04:23.479Z] [runtime-status] [16308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:23.481Z] [runtime-status] [16308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:23.484Z] [runtime-status] [16308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:23.486Z] [runtime-status] [16308] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:04:23.487Z] [runtime-status] [16308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:23.577Z] [runtime-status] [16308] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:04:23.578Z] [runtime-status] [16308] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:04:23.578Z] [runtime-status] [16308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:23.580Z] [runtime-status] [16308] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:23.580Z] [runtime-status] [16308] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:04:23.580Z] [runtime-status] [16308] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:04:23.881Z] [runtime-status] [16308] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:04:23.883Z] [runtime-status] [16308] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:04:23.884Z] [runtime-status] [16308] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:04:23.889Z] [runtime-status] [16308] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\16308 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\16308"}}
[debug] [2021-05-30T08:04:23.894Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:04:23.895Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=10200, mapping to path=/payments/create?total=10200 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=10200, mapping to path=/payments/create?total=10200"}}
[debug] [2021-05-30T08:04:23.903Z] [runtime-status] [16308] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Ephemeral server handling POST request"}}
[info] >  payment request received 10200 {"user":"payment request received 10200","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 10200"}}
[debug] [2021-05-30T08:04:23.920Z] [runtime-status] [16308] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T08:04:24.831Z] [worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: IDLE"}}
[debug] [2021-05-30T08:04:24.831Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:06:50.868Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:06:50.868Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:06:50.868Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:06:50.868Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:06:50.869Z] [worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\16308 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\16308"}}
[debug] [2021-05-30T08:06:50.869Z] [worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: BUSY"}}
[debug] [2021-05-30T08:06:50.870Z] [runtime-status] [16308] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:06:50.872Z] [runtime-status] [16308] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:06:50.873Z] [runtime-status] [16308] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:06:50.873Z] [runtime-status] [16308] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\16308 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\16308"}}
[debug] [2021-05-30T08:06:50.876Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:06:50.877Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:06:50.887Z] [runtime-status] [16308] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:06:50.895Z] [runtime-status] [16308] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [16308] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:06:51 GMT', {"user":"      date: 'Sun, 30 May 2021 08:06:51 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:06:51 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_ge0Jtf9Jg0aeU7', {"user":"      'request-id': 'req_ge0Jtf9Jg0aeU7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ge0Jtf9Jg0aeU7',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_ge0Jtf9Jg0aeU7' {"user":"    requestId: 'req_ge0Jtf9Jg0aeU7'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ge0Jtf9Jg0aeU7'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:06:51 GMT', {"user":"    date: 'Sun, 30 May 2021 08:06:51 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:06:51 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_ge0Jtf9Jg0aeU7', {"user":"    'request-id': 'req_ge0Jtf9Jg0aeU7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ge0Jtf9Jg0aeU7',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_ge0Jtf9Jg0aeU7', {"user":"  requestId: 'req_ge0Jtf9Jg0aeU7',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ge0Jtf9Jg0aeU7',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:06:51.580Z] [worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: exited"}}
[debug] [2021-05-30T08:06:51.580Z] [worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-1bb39c35-2226-4989-a40c-331cf26470fc]: FINISHED"}}
[debug] [2021-05-30T08:06:51.581Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:07:25.689Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:07:25.690Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:07:25.690Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:07:25.690Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:07:25.697Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:07:25.697Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:07:25.697Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:07:25.697Z] [worker-us-central1-api-c5659cd7-414e-40c8-a563-3bceadf304eb]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\20384 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c5659cd7-414e-40c8-a563-3bceadf304eb]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\20384"}}
[debug] [2021-05-30T08:07:25.697Z] [worker-us-central1-api-c5659cd7-414e-40c8-a563-3bceadf304eb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c5659cd7-414e-40c8-a563-3bceadf304eb]: BUSY"}}
[debug] [2021-05-30T08:07:26.027Z] [runtime-status] [20384] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:07:26.029Z] [runtime-status] [20384] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:07:26.033Z] [runtime-status] [20384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:26.035Z] [runtime-status] [20384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:26.038Z] [runtime-status] [20384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:26.040Z] [runtime-status] [20384] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:07:26.041Z] [runtime-status] [20384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:26.112Z] [runtime-status] [20384] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:07:26.112Z] [runtime-status] [20384] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:07:26.113Z] [runtime-status] [20384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:26.115Z] [runtime-status] [20384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:26.115Z] [runtime-status] [20384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:26.116Z] [runtime-status] [20384] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:07:26.458Z] [runtime-status] [20384] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:07:26.460Z] [runtime-status] [20384] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:07:26.460Z] [runtime-status] [20384] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:07:26.470Z] [runtime-status] [20384] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\20384 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\20384"}}
[debug] [2021-05-30T08:07:26.477Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:07:26.477Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:07:26.488Z] [runtime-status] [20384] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:07:26.512Z] [runtime-status] [20384] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20384] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:07:27 GMT', {"user":"      date: 'Sun, 30 May 2021 08:07:27 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:07:27 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_lVJRvPXOQhPgAx', {"user":"      'request-id': 'req_lVJRvPXOQhPgAx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_lVJRvPXOQhPgAx',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_lVJRvPXOQhPgAx' {"user":"    requestId: 'req_lVJRvPXOQhPgAx'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_lVJRvPXOQhPgAx'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:07:27 GMT', {"user":"    date: 'Sun, 30 May 2021 08:07:27 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:07:27 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_lVJRvPXOQhPgAx', {"user":"    'request-id': 'req_lVJRvPXOQhPgAx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_lVJRvPXOQhPgAx',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_lVJRvPXOQhPgAx', {"user":"  requestId: 'req_lVJRvPXOQhPgAx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_lVJRvPXOQhPgAx',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:07:27.393Z] [worker-us-central1-api-c5659cd7-414e-40c8-a563-3bceadf304eb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c5659cd7-414e-40c8-a563-3bceadf304eb]: exited"}}
[debug] [2021-05-30T08:07:27.393Z] [worker-us-central1-api-c5659cd7-414e-40c8-a563-3bceadf304eb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c5659cd7-414e-40c8-a563-3bceadf304eb]: FINISHED"}}
[debug] [2021-05-30T08:07:27.393Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:07:30.380Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:07:30.381Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:07:30.381Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:07:30.381Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:07:30.395Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:07:30.395Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:07:30.395Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:07:30.396Z] [worker-us-central1-api-4861d277-0b3a-408f-b183-237487ba1938]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\14728 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4861d277-0b3a-408f-b183-237487ba1938]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\14728"}}
[debug] [2021-05-30T08:07:30.396Z] [worker-us-central1-api-4861d277-0b3a-408f-b183-237487ba1938]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4861d277-0b3a-408f-b183-237487ba1938]: BUSY"}}
[debug] [2021-05-30T08:07:30.736Z] [runtime-status] [14728] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:07:30.738Z] [runtime-status] [14728] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:07:30.743Z] [runtime-status] [14728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:30.746Z] [runtime-status] [14728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:30.749Z] [runtime-status] [14728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:30.753Z] [runtime-status] [14728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:07:30.754Z] [runtime-status] [14728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:30.838Z] [runtime-status] [14728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:07:30.838Z] [runtime-status] [14728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:07:30.839Z] [runtime-status] [14728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:30.841Z] [runtime-status] [14728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:30.842Z] [runtime-status] [14728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:30.842Z] [runtime-status] [14728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:07:31.107Z] [runtime-status] [14728] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:07:31.109Z] [runtime-status] [14728] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:07:31.110Z] [runtime-status] [14728] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:07:31.114Z] [runtime-status] [14728] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\14728 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\14728"}}
[debug] [2021-05-30T08:07:31.119Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:07:31.120Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:07:31.129Z] [runtime-status] [14728] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:07:31.148Z] [runtime-status] [14728] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [14728] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:07:32 GMT', {"user":"      date: 'Sun, 30 May 2021 08:07:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:07:32 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_IYsjFII8zPO0T9', {"user":"      'request-id': 'req_IYsjFII8zPO0T9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_IYsjFII8zPO0T9',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_IYsjFII8zPO0T9' {"user":"    requestId: 'req_IYsjFII8zPO0T9'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_IYsjFII8zPO0T9'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:07:32 GMT', {"user":"    date: 'Sun, 30 May 2021 08:07:32 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:07:32 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_IYsjFII8zPO0T9', {"user":"    'request-id': 'req_IYsjFII8zPO0T9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_IYsjFII8zPO0T9',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_IYsjFII8zPO0T9', {"user":"  requestId: 'req_IYsjFII8zPO0T9',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_IYsjFII8zPO0T9',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:07:31.927Z] [worker-us-central1-api-4861d277-0b3a-408f-b183-237487ba1938]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4861d277-0b3a-408f-b183-237487ba1938]: exited"}}
[debug] [2021-05-30T08:07:31.927Z] [worker-us-central1-api-4861d277-0b3a-408f-b183-237487ba1938]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4861d277-0b3a-408f-b183-237487ba1938]: FINISHED"}}
[debug] [2021-05-30T08:07:31.928Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:07:47.517Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:07:47.517Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:07:47.518Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=4596 --> us-central1-api
[debug] [2021-05-30T08:07:47.518Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:07:47.530Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:07:47.531Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:07:47.531Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:07:47.531Z] [worker-us-central1-api-24223496-276f-487b-8803-47130b5b2d3b]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\19700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24223496-276f-487b-8803-47130b5b2d3b]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\19700"}}
[debug] [2021-05-30T08:07:47.531Z] [worker-us-central1-api-24223496-276f-487b-8803-47130b5b2d3b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24223496-276f-487b-8803-47130b5b2d3b]: BUSY"}}
[debug] [2021-05-30T08:07:48.016Z] [runtime-status] [19700] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:07:48.020Z] [runtime-status] [19700] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:07:48.029Z] [runtime-status] [19700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:48.034Z] [runtime-status] [19700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:48.038Z] [runtime-status] [19700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:48.044Z] [runtime-status] [19700] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:07:48.046Z] [runtime-status] [19700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:48.141Z] [runtime-status] [19700] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:07:48.141Z] [runtime-status] [19700] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:07:48.142Z] [runtime-status] [19700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:48.147Z] [runtime-status] [19700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:48.150Z] [runtime-status] [19700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:07:48.151Z] [runtime-status] [19700] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:07:48.479Z] [runtime-status] [19700] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:07:48.481Z] [runtime-status] [19700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:07:48.481Z] [runtime-status] [19700] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:07:48.490Z] [runtime-status] [19700] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\19700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\19700"}}
[debug] [2021-05-30T08:07:48.498Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:07:48.499Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=4596, mapping to path=/payments/create?total=4596 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=4596, mapping to path=/payments/create?total=4596"}}
[debug] [2021-05-30T08:07:48.518Z] [runtime-status] [19700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Ephemeral server handling POST request"}}
[info] >  payment request received 4596 {"user":"payment request received 4596","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 4596"}}
[debug] [2021-05-30T08:07:48.553Z] [runtime-status] [19700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [19700] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T08:07:49.443Z] [worker-us-central1-api-24223496-276f-487b-8803-47130b5b2d3b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24223496-276f-487b-8803-47130b5b2d3b]: IDLE"}}
[debug] [2021-05-30T08:07:49.445Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:21:21.251Z] ----------------------------------------------------------------------
[debug] [2021-05-30T08:21:21.254Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\nayak\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-05-30T08:21:21.255Z] CLI Version:   9.12.0
[debug] [2021-05-30T08:21:21.255Z] Platform:      win32
[debug] [2021-05-30T08:21:21.255Z] Node Version:  v16.0.0
[debug] [2021-05-30T08:21:21.259Z] Time:          Sun May 30 2021 13:51:21 GMT+0530 (India Standard Time)
[debug] [2021-05-30T08:21:21.259Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-05-30T08:21:21.265Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2021-05-30T08:21:21.298Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-05-30T08:21:21.298Z] > authorizing via signed-in user (nayakpunya43@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project app-74e2a. This may result in unexpected behavior. 
[debug] [2021-05-30T08:21:21.342Z] [hub] writing locator at C:\Users\nayak\AppData\Local\Temp\hub-app-74e2a.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[warn] !  Your requested "node" version "14" doesn't match your global version "16" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"14\" doesn't match your global version \"16\""}}
[debug] [2021-05-30T08:21:21.423Z] defaultcredentials: writing to file C:\Users\nayak\AppData\Roaming\firebase\nayakpunya43_gmail_com_application_default_credentials.json
[debug] [2021-05-30T08:21:21.429Z] Setting GAC to C:\Users\nayak\AppData\Roaming\firebase\nayakpunya43_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\nayak\\AppData\\Roaming\\firebase\\nayakpunya43_gmail_com_application_default_credentials.json"}}
[debug] [2021-05-30T08:21:21.431Z] > refreshing access token with scopes: []
[debug] [2021-05-30T08:21:21.432Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-05-30T08:21:21.712Z] <<< HTTP RESPONSE 200 {"expires":"Mon, 01 Jan 1990 00:00:00 GMT","date":"Sun, 30 May 2021 08:21:22 GMT","pragma":"no-cache","cache-control":"no-cache, no-store, max-age=0, must-revalidate","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-05-30T08:21:21.727Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig [none]
[debug] [2021-05-30T08:21:22.481Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig 200
[debug] [2021-05-30T08:21:22.481Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig {"projectId":"app-74e2a","storageBucket":"app-74e2a.appspot.com","locationId":"us-central"}
[warn] !  ui: Emulator UI unable to start on port 4000, starting on 4001 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4001 instead."}}
[debug] [2021-05-30T08:21:22.549Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-05-30T08:21:22.550Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-05-30T08:21:22.550Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\nayak\\.cache\\firebase\\emulators\\ui-v1.5.0\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\nayak\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.5.0\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-05-30T08:21:22.577Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2021-05-30T08:21:22.578Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2021-05-30T08:21:22.782Z] Web / API server started at http://localhost:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4001\n"}}
[info] i  functions: Watching "D:\amazon-app\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"D:\\amazon-app\\functions\" for Cloud Functions..."}}
[debug] [2021-05-30T08:21:22.866Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-30T08:21:22.867Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-05-30T08:21:22.868Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-30T08:21:22.869Z] [worker-~diagnostic~-68a7e413-2163-486f-8a03-8fb3c1701a69]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\15512 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-68a7e413-2163-486f-8a03-8fb3c1701a69]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15512"}}
[debug] [2021-05-30T08:21:22.870Z] [worker-~diagnostic~-68a7e413-2163-486f-8a03-8fb3c1701a69]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-68a7e413-2163-486f-8a03-8fb3c1701a69]: BUSY"}}
[debug] [2021-05-30T08:21:23.256Z] [runtime-status] [15512] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:21:23.257Z] [runtime-status] [15512] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:21:23.373Z] [runtime-status] [15512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:21:23.387Z] [runtime-status] [15512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:21:23.390Z] [runtime-status] [15512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:21:23.394Z] [runtime-status] [15512] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:21:23.397Z] [runtime-status] [15512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:21:24.018Z] [runtime-status] [15512] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:21:24.019Z] [runtime-status] [15512] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:21:24.021Z] [runtime-status] [15512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:21:24.026Z] [runtime-status] [15512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:21:24.028Z] [runtime-status] [15512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:21:24.029Z] [runtime-status] [15512] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15512] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[us-central1-api]: http function initialized (http://localhost:5001/app-74e2a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/app-74e2a/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4001                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4001/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-05-30T08:21:25.741Z] [worker-~diagnostic~-68a7e413-2163-486f-8a03-8fb3c1701a69]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-68a7e413-2163-486f-8a03-8fb3c1701a69]: IDLE"}}
[debug] [2021-05-30T08:22:01.704Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:22:01.705Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:22:01.706Z] Accepted request GET /app-74e2a/us-central1/api --> us-central1-api
[debug] [2021-05-30T08:22:01.718Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:22:01.719Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:22:01.719Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:22:01.719Z] [worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\20076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\20076"}}
[debug] [2021-05-30T08:22:01.719Z] [worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: BUSY"}}
[debug] [2021-05-30T08:22:02.014Z] [runtime-status] [20076] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:22:02.016Z] [runtime-status] [20076] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:22:02.020Z] [runtime-status] [20076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:22:02.023Z] [runtime-status] [20076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:22:02.026Z] [runtime-status] [20076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:22:02.028Z] [runtime-status] [20076] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:22:02.029Z] [runtime-status] [20076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:22:02.104Z] [runtime-status] [20076] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:22:02.105Z] [runtime-status] [20076] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:22:02.106Z] [runtime-status] [20076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:22:02.107Z] [runtime-status] [20076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:22:02.108Z] [runtime-status] [20076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:22:02.109Z] [runtime-status] [20076] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:22:02.369Z] [runtime-status] [20076] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:22:02.371Z] [runtime-status] [20076] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:22:02.372Z] [runtime-status] [20076] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:22:02.377Z] [runtime-status] [20076] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\20076 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\20076"}}
[debug] [2021-05-30T08:22:02.383Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:22:02.384Z] [functions] Got req.url=/app-74e2a/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api, mapping to path=/"}}
[debug] [2021-05-30T08:22:02.394Z] [runtime-status] [20076] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Ephemeral server handling GET request"}}
[debug] [2021-05-30T08:22:02.402Z] [runtime-status] [20076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T08:22:02.409Z] [worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: IDLE"}}
[debug] [2021-05-30T08:22:02.410Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:22:15.772Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:22:15.773Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:22:15.773Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:22:15.773Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:22:15.773Z] [worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\20076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\20076"}}
[debug] [2021-05-30T08:22:15.773Z] [worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: BUSY"}}
[debug] [2021-05-30T08:22:15.774Z] [runtime-status] [20076] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:22:15.776Z] [runtime-status] [20076] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:22:15.776Z] [runtime-status] [20076] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:22:15.777Z] [runtime-status] [20076] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\20076 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\20076"}}
[debug] [2021-05-30T08:22:15.779Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:22:15.780Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:22:15.786Z] [runtime-status] [20076] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:22:15.801Z] [runtime-status] [20076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20076] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:22:17 GMT', {"user":"      date: 'Sun, 30 May 2021 08:22:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:22:17 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_HD77vQaglol0hU', {"user":"      'request-id': 'req_HD77vQaglol0hU',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_HD77vQaglol0hU',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_HD77vQaglol0hU' {"user":"    requestId: 'req_HD77vQaglol0hU'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_HD77vQaglol0hU'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:22:17 GMT', {"user":"    date: 'Sun, 30 May 2021 08:22:17 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:22:17 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_HD77vQaglol0hU', {"user":"    'request-id': 'req_HD77vQaglol0hU',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_HD77vQaglol0hU',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_HD77vQaglol0hU', {"user":"  requestId: 'req_HD77vQaglol0hU',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_HD77vQaglol0hU',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:22:16.739Z] [worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: exited"}}
[debug] [2021-05-30T08:22:16.740Z] [worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9dfb750f-217d-404a-ac22-8f97ba46b0d6]: FINISHED"}}
[debug] [2021-05-30T08:22:16.740Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:25:15.452Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:25:15.453Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:25:15.453Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=10200 --> us-central1-api
[debug] [2021-05-30T08:25:15.453Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-30T08:25:15.468Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-30T08:25:15.468Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-30T08:25:15.468Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:25:15.468Z] [worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\15364 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15364"}}
[debug] [2021-05-30T08:25:15.468Z] [worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: BUSY"}}
[debug] [2021-05-30T08:25:15.770Z] [runtime-status] [15364] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-30T08:25:15.772Z] [runtime-status] [15364] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Disabled runtime features: undefined"}}
[debug] [2021-05-30T08:25:16.109Z] [runtime-status] [15364] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:25:16.157Z] [runtime-status] [15364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:25:16.160Z] [runtime-status] [15364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:25:16.164Z] [runtime-status] [15364] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-30T08:25:16.165Z] [runtime-status] [15364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:25:16.709Z] [runtime-status] [15364] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-30T08:25:16.709Z] [runtime-status] [15364] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:25:16.710Z] [runtime-status] [15364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:25:16.712Z] [runtime-status] [15364] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:25:16.713Z] [runtime-status] [15364] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-30T08:25:16.713Z] [runtime-status] [15364] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-30T08:25:18.093Z] [runtime-status] [15364] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:25:18.094Z] [runtime-status] [15364] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:25:18.094Z] [runtime-status] [15364] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:25:18.098Z] [runtime-status] [15364] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\15364 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15364"}}
[debug] [2021-05-30T08:25:18.104Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:25:18.104Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=10200, mapping to path=/payments/create?total=10200 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=10200, mapping to path=/payments/create?total=10200"}}
[debug] [2021-05-30T08:25:18.114Z] [runtime-status] [15364] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Ephemeral server handling POST request"}}
[info] >  payment request received 10200 {"user":"payment request received 10200","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 10200"}}
[debug] [2021-05-30T08:25:18.127Z] [runtime-status] [15364] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-30T08:25:19.036Z] [worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: IDLE"}}
[debug] [2021-05-30T08:25:19.037Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:28:11.411Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-30T08:28:11.412Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-30T08:28:11.412Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-30T08:28:11.412Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-30T08:28:11.412Z] [worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\15364 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15364"}}
[debug] [2021-05-30T08:28:11.412Z] [worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: BUSY"}}
[debug] [2021-05-30T08:28:11.413Z] [runtime-status] [15364] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-30T08:28:11.416Z] [runtime-status] [15364] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-30T08:28:11.416Z] [runtime-status] [15364] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-30T08:28:11.416Z] [runtime-status] [15364] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\15364 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\15364"}}
[debug] [2021-05-30T08:28:11.419Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-30T08:28:11.420Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-30T08:28:11.429Z] [runtime-status] [15364] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-30T08:28:11.434Z] [runtime-status] [15364] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [15364] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Sun, 30 May 2021 08:28:12 GMT', {"user":"      date: 'Sun, 30 May 2021 08:28:12 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Sun, 30 May 2021 08:28:12 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_bX9oSNfCnSj7fk', {"user":"      'request-id': 'req_bX9oSNfCnSj7fk',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_bX9oSNfCnSj7fk',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_bX9oSNfCnSj7fk' {"user":"    requestId: 'req_bX9oSNfCnSj7fk'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_bX9oSNfCnSj7fk'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Sun, 30 May 2021 08:28:12 GMT', {"user":"    date: 'Sun, 30 May 2021 08:28:12 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Sun, 30 May 2021 08:28:12 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_bX9oSNfCnSj7fk', {"user":"    'request-id': 'req_bX9oSNfCnSj7fk',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_bX9oSNfCnSj7fk',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_bX9oSNfCnSj7fk', {"user":"  requestId: 'req_bX9oSNfCnSj7fk',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_bX9oSNfCnSj7fk',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-30T08:28:12.036Z] [worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: exited"}}
[debug] [2021-05-30T08:28:12.036Z] [worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-33b23556-2adc-429f-8d4c-4b22a590fda2]: FINISHED"}}
[debug] [2021-05-30T08:28:12.036Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-30T08:31:50.199Z] [worker-~diagnostic~-68a7e413-2163-486f-8a03-8fb3c1701a69]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-68a7e413-2163-486f-8a03-8fb3c1701a69]: exited"}}
[debug] [2021-05-31T06:03:30.825Z] ----------------------------------------------------------------------
[debug] [2021-05-31T06:03:30.828Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\nayak\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-05-31T06:03:30.828Z] CLI Version:   9.12.0
[debug] [2021-05-31T06:03:30.829Z] Platform:      win32
[debug] [2021-05-31T06:03:30.829Z] Node Version:  v16.0.0
[debug] [2021-05-31T06:03:30.830Z] Time:          Mon May 31 2021 11:33:30 GMT+0530 (India Standard Time)
[debug] [2021-05-31T06:03:30.831Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-05-31T06:03:30.845Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-05-31T06:03:30.845Z] > authorizing via signed-in user (nayakpunya43@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project app-74e2a. This may result in unexpected behavior. 
[debug] [2021-05-31T06:03:30.904Z] [hub] writing locator at C:\Users\nayak\AppData\Local\Temp\hub-app-74e2a.json
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[warn] !  Your requested "node" version "14" doesn't match your global version "16" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"14\" doesn't match your global version \"16\""}}
[debug] [2021-05-31T06:03:30.982Z] defaultcredentials: writing to file C:\Users\nayak\AppData\Roaming\firebase\nayakpunya43_gmail_com_application_default_credentials.json
[debug] [2021-05-31T06:03:30.989Z] Setting GAC to C:\Users\nayak\AppData\Roaming\firebase\nayakpunya43_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\nayak\\AppData\\Roaming\\firebase\\nayakpunya43_gmail_com_application_default_credentials.json"}}
[debug] [2021-05-31T06:03:30.993Z] > refreshing access token with scopes: []
[debug] [2021-05-31T06:03:30.995Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-05-31T06:03:31.367Z] <<< HTTP RESPONSE 200 {"pragma":"no-cache","cache-control":"no-cache, no-store, max-age=0, must-revalidate","date":"Mon, 31 May 2021 06:03:32 GMT","expires":"Mon, 01 Jan 1990 00:00:00 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-05-31T06:03:31.386Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig [none]
[debug] [2021-05-31T06:03:32.344Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig 200
[debug] [2021-05-31T06:03:32.345Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/app-74e2a/adminSdkConfig {"projectId":"app-74e2a","storageBucket":"app-74e2a.appspot.com","locationId":"us-central"}
[debug] [2021-05-31T06:03:32.639Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-05-31T06:03:32.640Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-05-31T06:03:32.640Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\nayak\\.cache\\firebase\\emulators\\ui-v1.5.0\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\nayak\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.5.0\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-05-31T06:03:32.870Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "D:\amazon-app\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"D:\\amazon-app\\functions\" for Cloud Functions..."}}
[debug] [2021-05-31T06:03:32.944Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-05-31T06:03:32.945Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-05-31T06:03:32.945Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-05-31T06:03:32.946Z] [worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\6464 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\6464"}}
[debug] [2021-05-31T06:03:32.947Z] [worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: BUSY"}}
[debug] [2021-05-31T06:03:33.319Z] [runtime-status] [6464] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-31T06:03:33.321Z] [runtime-status] [6464] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Disabled runtime features: undefined"}}
[debug] [2021-05-31T06:03:33.425Z] [runtime-status] [6464] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:03:33.439Z] [runtime-status] [6464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:03:33.444Z] [runtime-status] [6464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:03:33.448Z] [runtime-status] [6464] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-31T06:03:33.450Z] [runtime-status] [6464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:03:34.086Z] [runtime-status] [6464] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-31T06:03:34.087Z] [runtime-status] [6464] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-31T06:03:34.089Z] [runtime-status] [6464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:03:34.093Z] [runtime-status] [6464] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:03:34.095Z] [runtime-status] [6464] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:03:34.095Z] [runtime-status] [6464] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6464] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[us-central1-api]: http function initialized (http://localhost:5001/app-74e2a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/app-74e2a/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-05-31T06:03:35.218Z] [worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: IDLE"}}
[debug] [2021-05-31T06:04:30.659Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-31T06:04:30.660Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-31T06:04:30.663Z] Accepted request GET /app-74e2a/us-central1/api --> us-central1-api
[debug] [2021-05-31T06:04:30.682Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-31T06:04:30.682Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-31T06:04:30.683Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-31T06:04:30.683Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\1960 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\1960"}}
[debug] [2021-05-31T06:04:30.684Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: BUSY"}}
[debug] [2021-05-31T06:04:31.065Z] [runtime-status] [1960] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-31T06:04:31.066Z] [runtime-status] [1960] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Disabled runtime features: undefined"}}
[debug] [2021-05-31T06:04:31.071Z] [runtime-status] [1960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:04:31.075Z] [runtime-status] [1960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:04:31.078Z] [runtime-status] [1960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:04:31.081Z] [runtime-status] [1960] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-31T06:04:31.084Z] [runtime-status] [1960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:04:31.164Z] [runtime-status] [1960] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-31T06:04:31.165Z] [runtime-status] [1960] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-31T06:04:31.166Z] [runtime-status] [1960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:04:31.168Z] [runtime-status] [1960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:04:31.169Z] [runtime-status] [1960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T06:04:31.169Z] [runtime-status] [1960] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-31T06:04:31.460Z] [runtime-status] [1960] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-31T06:04:31.462Z] [runtime-status] [1960] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-31T06:04:31.463Z] [runtime-status] [1960] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-31T06:04:31.468Z] [runtime-status] [1960] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\1960 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\1960"}}
[debug] [2021-05-31T06:04:31.475Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-31T06:04:31.476Z] [functions] Got req.url=/app-74e2a/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api, mapping to path=/"}}
[debug] [2021-05-31T06:04:31.488Z] [runtime-status] [1960] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Ephemeral server handling GET request"}}
[debug] [2021-05-31T06:04:31.499Z] [runtime-status] [1960] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-31T06:04:31.510Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: IDLE"}}
[debug] [2021-05-31T06:04:31.511Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-31T06:04:31.604Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2021-05-31T06:34:21.690Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-31T06:34:21.690Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-31T06:34:21.690Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=4596 --> us-central1-api
[debug] [2021-05-31T06:34:21.691Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-31T06:34:21.691Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\1960 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\1960"}}
[debug] [2021-05-31T06:34:21.691Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: BUSY"}}
[debug] [2021-05-31T06:34:21.693Z] [runtime-status] [1960] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-31T06:34:21.696Z] [runtime-status] [1960] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-31T06:34:21.697Z] [runtime-status] [1960] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-31T06:34:21.698Z] [runtime-status] [1960] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\1960 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\1960"}}
[debug] [2021-05-31T06:34:21.701Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-31T06:34:21.703Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=4596, mapping to path=/payments/create?total=4596 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=4596, mapping to path=/payments/create?total=4596"}}
[debug] [2021-05-31T06:34:21.713Z] [runtime-status] [1960] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Ephemeral server handling POST request"}}
[info] >  payment request received 4596 {"user":"payment request received 4596","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 4596"}}
[debug] [2021-05-31T06:34:21.740Z] [runtime-status] [1960] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-31T06:34:22.743Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: IDLE"}}
[debug] [2021-05-31T06:34:22.744Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-31T06:34:34.340Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-31T06:34:34.341Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-31T06:34:34.341Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-31T06:34:34.341Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-31T06:34:34.342Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\1960 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\1960"}}
[debug] [2021-05-31T06:34:34.342Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: BUSY"}}
[debug] [2021-05-31T06:34:34.344Z] [runtime-status] [1960] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-31T06:34:34.350Z] [runtime-status] [1960] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-31T06:34:34.351Z] [runtime-status] [1960] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-31T06:34:34.352Z] [runtime-status] [1960] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\1960 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\1960"}}
[debug] [2021-05-31T06:34:34.357Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-31T06:34:34.357Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-31T06:34:34.366Z] [runtime-status] [1960] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-31T06:34:34.371Z] [runtime-status] [1960] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [1960] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 31 May 2021 06:34:35 GMT', {"user":"      date: 'Mon, 31 May 2021 06:34:35 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 31 May 2021 06:34:35 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_v3AOWFRTxE0emG', {"user":"      'request-id': 'req_v3AOWFRTxE0emG',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_v3AOWFRTxE0emG',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_v3AOWFRTxE0emG' {"user":"    requestId: 'req_v3AOWFRTxE0emG'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_v3AOWFRTxE0emG'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 31 May 2021 06:34:35 GMT', {"user":"    date: 'Mon, 31 May 2021 06:34:35 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 31 May 2021 06:34:35 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_v3AOWFRTxE0emG', {"user":"    'request-id': 'req_v3AOWFRTxE0emG',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_v3AOWFRTxE0emG',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_v3AOWFRTxE0emG', {"user":"  requestId: 'req_v3AOWFRTxE0emG',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_v3AOWFRTxE0emG',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-31T06:34:34.791Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: exited"}}
[debug] [2021-05-31T06:34:34.792Z] [worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4d5d5b57-a22d-4fae-b170-da5abd18aa49]: FINISHED"}}
[debug] [2021-05-31T06:34:34.792Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-31T07:01:49.566Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-31T07:01:49.567Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-31T07:01:49.567Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=14796 --> us-central1-api
[debug] [2021-05-31T07:01:49.567Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-05-31T07:01:49.601Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-05-31T07:01:49.602Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-05-31T07:01:49.602Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-31T07:01:49.603Z] [worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\10568 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\10568"}}
[debug] [2021-05-31T07:01:49.604Z] [worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: BUSY"}}
[debug] [2021-05-31T07:01:50.110Z] [runtime-status] [10568] Functions runtime initialized. {"cwd":"D:\\amazon-app\\functions","node_version":"16.0.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Functions runtime initialized. {\"cwd\":\"D:\\\\amazon-app\\\\functions\",\"node_version\":\"16.0.0\"}"}}
[debug] [2021-05-31T07:01:50.113Z] [runtime-status] [10568] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Disabled runtime features: undefined"}}
[debug] [2021-05-31T07:01:50.121Z] [runtime-status] [10568] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T07:01:50.125Z] [runtime-status] [10568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T07:01:50.129Z] [runtime-status] [10568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T07:01:50.135Z] [runtime-status] [10568] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-05-31T07:01:50.139Z] [runtime-status] [10568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T07:01:50.267Z] [runtime-status] [10568] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-05-31T07:01:50.268Z] [runtime-status] [10568] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-31T07:01:50.269Z] [runtime-status] [10568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T07:01:50.274Z] [runtime-status] [10568] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T07:01:50.277Z] [runtime-status] [10568] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.14.1","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.14.1\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-05-31T07:01:50.278Z] [runtime-status] [10568] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.9.0","resolution":"D:\\amazon-app\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.9.0\",\"resolution\":\"D:\\\\amazon-app\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-05-31T07:01:50.722Z] [runtime-status] [10568] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-31T07:01:50.725Z] [runtime-status] [10568] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-31T07:01:50.726Z] [runtime-status] [10568] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-31T07:01:50.730Z] [runtime-status] [10568] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\10568 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\10568"}}
[debug] [2021-05-31T07:01:50.739Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-31T07:01:50.740Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=14796, mapping to path=/payments/create?total=14796"}}
[debug] [2021-05-31T07:01:50.754Z] [runtime-status] [10568] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Ephemeral server handling POST request"}}
[info] >  payment request received 14796 {"user":"payment request received 14796","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 14796"}}
[debug] [2021-05-31T07:01:50.780Z] [runtime-status] [10568] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-05-31T07:01:51.725Z] [worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: IDLE"}}
[debug] [2021-05-31T07:01:51.726Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-31T07:02:04.191Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-05-31T07:02:04.192Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-05-31T07:02:04.192Z] Accepted request POST /app-74e2a/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-05-31T07:02:04.192Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-05-31T07:02:04.193Z] [worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: Assigning socketPath: \\?\pipe\D:\amazon-app\functions\10568 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: Assigning socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\10568"}}
[debug] [2021-05-31T07:02:04.193Z] [worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: BUSY"}}
[debug] [2021-05-31T07:02:04.201Z] [runtime-status] [10568] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-05-31T07:02:04.205Z] [runtime-status] [10568] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-05-31T07:02:04.206Z] [runtime-status] [10568] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Running us-central1-api in mode HTTPS"}}
[debug] [2021-05-31T07:02:04.206Z] [runtime-status] [10568] Attempting to listen to socketPath: \\?\pipe\D:\amazon-app\functions\10568 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Attempting to listen to socketPath: \\\\?\\pipe\\D:\\amazon-app\\functions\\10568"}}
[debug] [2021-05-31T07:02:04.210Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-05-31T07:02:04.211Z] [functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/app-74e2a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-05-31T07:02:04.220Z] [runtime-status] [10568] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Ephemeral server handling POST request"}}
[info] >  payment request received 0 {"user":"payment request received 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request received 0"}}
[debug] [2021-05-31T07:02:04.225Z] [runtime-status] [10568] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [10568] Ephemeral server survived."}}
[info] >  D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40 {"user":"D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40\r"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);\r"}}
[info] >                 ^ {"user":"               ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1.\r"}}
[info] >      at Function.generate (D:\amazon-app\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)\r"}}
[info] >      at IncomingMessage.<anonymous> (D:\amazon-app\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (D:\\amazon-app\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)\r"}}
[info] >      at Object.onceWrapper (node:events:471:28) {"user":"    at Object.onceWrapper (node:events:471:28)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:471:28)\r"}}
[info] >      at IncomingMessage.emit (node:events:377:35) {"user":"    at IncomingMessage.emit (node:events:377:35)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:377:35)\r"}}
[info] >      at endReadableNT (node:internal/streams/readable:1312:12) {"user":"    at endReadableNT (node:internal/streams/readable:1312:12)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1312:12)\r"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',\r"}}
[info] >    raw: { {"user":"  raw: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {\r"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',\r"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',\r"}}
[info] >      param: 'amount', {"user":"    param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',\r"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',\r"}}
[info] >      headers: { {"user":"    headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {\r"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',\r"}}
[info] >        date: 'Mon, 31 May 2021 07:02:05 GMT', {"user":"      date: 'Mon, 31 May 2021 07:02:05 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 31 May 2021 07:02:05 GMT',\r"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',\r"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',\r"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',\r"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',\r"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',\r"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',\r"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',\r"}}
[info] >        'request-id': 'req_8cnDDSEJum2MHP', {"user":"      'request-id': 'req_8cnDDSEJum2MHP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_8cnDDSEJum2MHP',\r"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',\r"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',\r"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >      }, {"user":"    },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },\r"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,\r"}}
[info] >      requestId: 'req_8cnDDSEJum2MHP' {"user":"    requestId: 'req_8cnDDSEJum2MHP'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_8cnDDSEJum2MHP'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',\r"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',\r"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',\r"}}
[info] >    param: 'amount', {"user":"  param: 'amount',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',\r"}}
[info] >    detail: undefined, {"user":"  detail: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,\r"}}
[info] >    headers: { {"user":"  headers: {\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {\r"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',\r"}}
[info] >      date: 'Mon, 31 May 2021 07:02:05 GMT', {"user":"    date: 'Mon, 31 May 2021 07:02:05 GMT',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 31 May 2021 07:02:05 GMT',\r"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',\r"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',\r"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',\r"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',\r"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',\r"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',\r"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',\r"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',\r"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',\r"}}
[info] >      'request-id': 'req_8cnDDSEJum2MHP', {"user":"    'request-id': 'req_8cnDDSEJum2MHP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_8cnDDSEJum2MHP',\r"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',\r"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',\r"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'\r"}}
[info] >    }, {"user":"  },\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },\r"}}
[info] >    requestId: 'req_8cnDDSEJum2MHP', {"user":"  requestId: 'req_8cnDDSEJum2MHP',\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_8cnDDSEJum2MHP',\r"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,\r"}}
[info] >    charge: undefined, {"user":"  charge: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,\r"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,\r"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,\r"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,\r"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,\r"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,\r"}}
[info] >    source: undefined {"user":"  source: undefined\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined\r"}}
[info] >  } {"user":"}\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }\r"}}
[debug] [2021-05-31T07:02:04.636Z] [worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: exited"}}
[debug] [2021-05-31T07:02:04.636Z] [worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a4b8d0df-59ef-4861-bfe2-df4d71b8fe0f]: FINISHED"}}
[debug] [2021-05-31T07:02:04.637Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-05-31T07:11:38.619Z] [worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: exited"}}
[debug] [2021-05-31T07:11:38.621Z] [worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-8cdec692-a92d-44a2-8663-9436184b582a]: FINISHED"}}
[debug] [2021-05-31T07:11:38.651Z] Received signal SIGHUP 1
